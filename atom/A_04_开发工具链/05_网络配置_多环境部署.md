# ç½‘ç»œé…ç½®ï¼ˆå¤šç¯å¢ƒéƒ¨ç½²ï¼‰

## 1. ã€30å­—æ ¸å¿ƒã€‘

**ç½‘ç»œé…ç½®æ˜¯ Hardhat ç®¡ç†å¤šé“¾éƒ¨ç½²çš„æ ¸å¿ƒï¼Œé€šè¿‡ hardhat.config.js å®šä¹‰æœ¬åœ°ã€æµ‹è¯•ç½‘ã€ä¸»ç½‘ç­‰ç¯å¢ƒï¼Œé…åˆç¯å¢ƒå˜é‡å®ç°å®‰å…¨çš„å¤šç¯å¢ƒåˆ‡æ¢ã€‚**

---

## 2. ã€ç¬¬ä¸€æ€§åŸç†ã€‘

### ä»€ä¹ˆæ˜¯ç¬¬ä¸€æ€§åŸç†ï¼Ÿ

**ç¬¬ä¸€æ€§åŸç†**ï¼šå›åˆ°äº‹ç‰©æœ€åŸºæœ¬çš„çœŸç†ï¼Œä»æºå¤´æ€è€ƒé—®é¢˜

### ç½‘ç»œé…ç½®çš„ç¬¬ä¸€æ€§åŸç† ğŸ¯

#### 1. æœ€åŸºç¡€çš„å®šä¹‰

**ç½‘ç»œé…ç½® = å‘Šè¯‰ Hardhat å¦‚ä½•è¿æ¥ä¸åŒçš„åŒºå—é“¾ç½‘ç»œ**

ä»…æ­¤è€Œå·²ï¼æ²¡æœ‰æ›´åŸºç¡€çš„äº†ã€‚

é…ç½®çš„æœ¬è´¨ä¿¡æ¯ï¼š
- **è¿æ¥åˆ°å“ªé‡Œ**ï¼ˆRPC URLï¼‰
- **ç”¨è°çš„èº«ä»½**ï¼ˆç§é’¥/è´¦æˆ·ï¼‰
- **ç›®æ ‡é“¾æ˜¯ä»€ä¹ˆ**ï¼ˆChain IDï¼‰

#### 2. ä¸ºä»€ä¹ˆéœ€è¦å¤šç¯å¢ƒé…ç½®ï¼Ÿ

**æ ¸å¿ƒé—®é¢˜ï¼šåŒä¸€ä»½åˆçº¦ä»£ç å¦‚ä½•éƒ¨ç½²åˆ°ä¸åŒç½‘ç»œï¼Ÿ**

å•ä¸€ç¯å¢ƒçš„é—®é¢˜ï¼š
- å¼€å‘æ—¶éœ€è¦å¿«é€Ÿè¿­ä»£ï¼ˆæœ¬åœ°ç½‘ç»œï¼‰
- æµ‹è¯•æ—¶éœ€è¦æ¨¡æ‹ŸçœŸå®ç¯å¢ƒï¼ˆæµ‹è¯•ç½‘ï¼‰
- ä¸Šçº¿æ—¶éœ€è¦éƒ¨ç½²åˆ°ä¸»ç½‘
- æ¯ä¸ªç¯å¢ƒçš„é…ç½®å®Œå…¨ä¸åŒ

#### 3. ç½‘ç»œé…ç½®çš„ä¸‰å±‚ä»·å€¼

##### ä»·å€¼1ï¼šç¯å¢ƒéš”ç¦»

**é—®é¢˜**ï¼šæµ‹è¯•ç½‘ç§é’¥å’Œä¸»ç½‘ç§é’¥æ··ç”¨å¾ˆå±é™©

**è§£å†³æ–¹æ¡ˆ**ï¼šæ¯ä¸ªç½‘ç»œç‹¬ç«‹é…ç½®ï¼Œä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†æ•æ„Ÿä¿¡æ¯

```javascript
// ä¸åŒç½‘ç»œä½¿ç”¨ä¸åŒè´¦æˆ·
module.exports = {
  networks: {
    hardhat: {}, // æœ¬åœ°ï¼šè‡ªåŠ¨ç”Ÿæˆæµ‹è¯•è´¦æˆ·
    sepolia: {   // æµ‹è¯•ç½‘ï¼šæµ‹è¯•è´¦æˆ·
      accounts: [process.env.TEST_PRIVATE_KEY]
    },
    mainnet: {   // ä¸»ç½‘ï¼šç”Ÿäº§è´¦æˆ·
      accounts: [process.env.PROD_PRIVATE_KEY]
    }
  }
};
```

##### ä»·å€¼2ï¼šä¸€é”®åˆ‡æ¢

**é—®é¢˜**ï¼šæ‰‹åŠ¨ä¿®æ”¹é…ç½®å®¹æ˜“å‡ºé”™

**è§£å†³æ–¹æ¡ˆ**ï¼šå‘½ä»¤è¡Œå‚æ•° `--network` åˆ‡æ¢ç¯å¢ƒ

```bash
# åŒä¸€ä¸ªéƒ¨ç½²è„šæœ¬ï¼Œä¸åŒç½‘ç»œ
npx hardhat ignition deploy ./module.js              # é»˜è®¤æœ¬åœ°
npx hardhat ignition deploy ./module.js --network sepolia
npx hardhat ignition deploy ./module.js --network mainnet
```

##### ä»·å€¼3ï¼šå‚æ•°å·®å¼‚åŒ–

**é—®é¢˜**ï¼šä¸åŒç½‘ç»œçš„ Gas ä»·æ ¼ã€ç¡®è®¤æ—¶é—´ä¸åŒ

**è§£å†³æ–¹æ¡ˆ**ï¼šæ¯ä¸ªç½‘ç»œå¯ä»¥æœ‰ç‹¬ç«‹çš„é…ç½®å‚æ•°

```javascript
networks: {
  sepolia: {
    gasPrice: 20000000000,     // 20 gwei
    timeout: 60000             // 60ç§’è¶…æ—¶
  },
  mainnet: {
    gasPrice: 'auto',          // è‡ªåŠ¨è·å–
    timeout: 120000            // 120ç§’è¶…æ—¶
  }
}
```

#### 4. ä»ç¬¬ä¸€æ€§åŸç†æ¨å¯¼ç½‘ç»œé…ç½®è®¾è®¡

**æ¨ç†é“¾ï¼š**

```
1. å‰æï¼šåˆçº¦éœ€è¦éƒ¨ç½²åˆ°ä¸åŒç½‘ç»œ
   â†“
2. æ¨å¯¼ï¼šéœ€è¦çŸ¥é“ç½‘ç»œçš„ RPC åœ°å€ â†’ url å­—æ®µ
   â†“
3. æ¨å¯¼ï¼šéœ€è¦è´¦æˆ·ç­¾åäº¤æ˜“ â†’ accounts å­—æ®µ
   â†“
4. æ¨å¯¼ï¼šéœ€è¦è¯†åˆ«ç›®æ ‡é“¾ â†’ chainId å­—æ®µ
   â†“
5. æ¨å¯¼ï¼šæ•æ„Ÿä¿¡æ¯ä¸èƒ½ç¡¬ç¼–ç  â†’ ç¯å¢ƒå˜é‡
   â†“
6. æ¨å¯¼ï¼šä¸åŒç¯å¢ƒå‚æ•°ä¸åŒ â†’ ç½‘ç»œç‰¹å®šé…ç½®
   â†“
7. æœ€ç»ˆå®ç°ï¼šhardhat.config.js çš„ networks å¯¹è±¡
```

#### 5. ä¸€å¥è¯æ€»ç»“ç¬¬ä¸€æ€§åŸç†

**ç½‘ç»œé…ç½®çš„æœ¬è´¨æ˜¯ä¸ºæ¯ä¸ªç›®æ ‡ç½‘ç»œæä¾›è¿æ¥ä¿¡æ¯ï¼ˆRPCï¼‰å’Œèº«ä»½ä¿¡æ¯ï¼ˆè´¦æˆ·ï¼‰ï¼Œé€šè¿‡å‘½ä»¤è¡Œå‚æ•°åˆ‡æ¢ï¼Œå®ç°ä¸€ä»½ä»£ç å¤šç¯å¢ƒéƒ¨ç½²ã€‚**

---

## 3. ã€3ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‘

### æ ¸å¿ƒæ¦‚å¿µ1ï¼šnetworks é…ç½®ç»“æ„ ğŸ”§

**ä¸€å¥è¯å®šä¹‰ï¼š** networks æ˜¯ hardhat.config.js ä¸­å®šä¹‰æ‰€æœ‰ç›®æ ‡ç½‘ç»œçš„å¯¹è±¡ï¼Œæ¯ä¸ªç½‘ç»œæœ‰ç‹¬ç«‹çš„è¿æ¥å’Œè´¦æˆ·é…ç½®ã€‚

```javascript
// hardhat.config.js
require("@nomicfoundation/hardhat-toolbox");
require("dotenv").config();

module.exports = {
  solidity: "0.8.20",
  
  networks: {
    // ===== æœ¬åœ°ç½‘ç»œ =====
    hardhat: {
      chainId: 31337,
      // è‡ªåŠ¨ç”Ÿæˆ 20 ä¸ªæµ‹è¯•è´¦æˆ·ï¼Œæ¯ä¸ª 10000 ETH
    },
    
    localhost: {
      url: "http://127.0.0.1:8545",
      chainId: 31337,
      // è¿æ¥ç‹¬ç«‹è¿è¡Œçš„ hardhat node
    },
    
    // ===== æµ‹è¯•ç½‘ =====
    sepolia: {
      url: process.env.SEPOLIA_RPC_URL || "",
      accounts: process.env.PRIVATE_KEY ? [process.env.PRIVATE_KEY] : [],
      chainId: 11155111,
    },
    
    holesky: {
      url: process.env.HOLESKY_RPC_URL || "",
      accounts: process.env.PRIVATE_KEY ? [process.env.PRIVATE_KEY] : [],
      chainId: 17000,
    },
    
    // ===== ä¸»ç½‘ =====
    mainnet: {
      url: process.env.MAINNET_RPC_URL || "",
      accounts: process.env.MAINNET_PRIVATE_KEY ? [process.env.MAINNET_PRIVATE_KEY] : [],
      chainId: 1,
    },
    
    // ===== Layer2 =====
    arbitrum: {
      url: process.env.ARBITRUM_RPC_URL || "",
      accounts: process.env.PRIVATE_KEY ? [process.env.PRIVATE_KEY] : [],
      chainId: 42161,
    },
    
    optimism: {
      url: process.env.OPTIMISM_RPC_URL || "",
      accounts: process.env.PRIVATE_KEY ? [process.env.PRIVATE_KEY] : [],
      chainId: 10,
    },
    
    base: {
      url: process.env.BASE_RPC_URL || "",
      accounts: process.env.PRIVATE_KEY ? [process.env.PRIVATE_KEY] : [],
      chainId: 8453,
    }
  }
};
```

**ç½‘ç»œé…ç½®å­—æ®µè¯´æ˜ï¼š**

| å­—æ®µ | å¿…éœ€ | è¯´æ˜ |
|-----|------|------|
| url | âœ… | RPC èŠ‚ç‚¹åœ°å€ |
| accounts | âœ… | è´¦æˆ·ç§é’¥æ•°ç»„æˆ–åŠ©è®°è¯é…ç½® |
| chainId | æ¨è | é“¾ IDï¼Œç”¨äºé˜²é‡æ”¾ |
| gas | å¯é€‰ | Gas Limit |
| gasPrice | å¯é€‰ | Gas Priceï¼ˆweiï¼‰æˆ– 'auto' |
| timeout | å¯é€‰ | äº¤æ˜“è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ |

---

### æ ¸å¿ƒæ¦‚å¿µ2ï¼šç¯å¢ƒå˜é‡ç®¡ç† ğŸ”

**ä¸€å¥è¯å®šä¹‰ï¼š** ä½¿ç”¨ dotenv ä» .env æ–‡ä»¶åŠ è½½æ•æ„Ÿé…ç½®ï¼Œé¿å…ç§é’¥ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ã€‚

```bash
# .env æ–‡ä»¶ï¼ˆæ·»åŠ åˆ° .gitignoreï¼ï¼‰
# ===== RPC URLs =====
SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_INFURA_KEY
HOLESKY_RPC_URL=https://ethereum-holesky.publicnode.com
MAINNET_RPC_URL=https://mainnet.infura.io/v3/YOUR_INFURA_KEY

# ===== Layer2 RPC URLs =====
ARBITRUM_RPC_URL=https://arb1.arbitrum.io/rpc
OPTIMISM_RPC_URL=https://mainnet.optimism.io
BASE_RPC_URL=https://mainnet.base.org

# ===== è´¦æˆ·ç§é’¥ =====
# æµ‹è¯•ç½‘è´¦æˆ·ï¼ˆå¯ä»¥æ˜¯åŒä¸€ä¸ªï¼‰
PRIVATE_KEY=your_test_private_key

# ä¸»ç½‘è´¦æˆ·ï¼ˆå»ºè®®åˆ†å¼€ï¼‰
MAINNET_PRIVATE_KEY=your_mainnet_private_key

# ===== API Keys =====
ETHERSCAN_API_KEY=your_etherscan_key
INFURA_API_KEY=your_infura_key
ALCHEMY_API_KEY=your_alchemy_key
```

```javascript
// hardhat.config.js
require("dotenv").config();

// å®‰å…¨è·å–ç¯å¢ƒå˜é‡çš„è¾…åŠ©å‡½æ•°
function getEnvVar(name, required = false) {
  const value = process.env[name];
  if (required && !value) {
    throw new Error(`ç¯å¢ƒå˜é‡ ${name} æœªè®¾ç½®`);
  }
  return value || "";
}

module.exports = {
  networks: {
    sepolia: {
      url: getEnvVar("SEPOLIA_RPC_URL"),
      accounts: getEnvVar("PRIVATE_KEY") ? [getEnvVar("PRIVATE_KEY")] : [],
    }
  }
};
```

**æœ€ä½³å®è·µï¼š**

```bash
# .gitignore - æ°¸è¿œä¸è¦æäº¤è¿™äº›æ–‡ä»¶
.env
.env.local
.env.*.local
*.pem
*.key
```

```javascript
// ç¯å¢ƒå˜é‡éªŒè¯è„šæœ¬ (scripts/check-env.js)
const requiredEnvVars = [
  'SEPOLIA_RPC_URL',
  'PRIVATE_KEY'
];

requiredEnvVars.forEach(varName => {
  if (!process.env[varName]) {
    console.error(`âŒ ç¼ºå°‘ç¯å¢ƒå˜é‡: ${varName}`);
    process.exit(1);
  }
});

console.log('âœ… æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡å·²è®¾ç½®');
```

---

### æ ¸å¿ƒæ¦‚å¿µ3ï¼šå¤šç¯å¢ƒéƒ¨ç½²ç­–ç•¥ ğŸš€

**ä¸€å¥è¯å®šä¹‰ï¼š** æ ¹æ®å¼€å‘é˜¶æ®µé€‰æ‹©åˆé€‚çš„ç½‘ç»œï¼Œéµå¾ªæœ¬åœ°â†’æµ‹è¯•ç½‘â†’ä¸»ç½‘çš„æ¸è¿›å¼éƒ¨ç½²æµç¨‹ã€‚

**æ ‡å‡†éƒ¨ç½²æµç¨‹ï¼š**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¼€å‘é˜¶æ®µ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. æœ¬åœ°å¼€å‘ (hardhat network)                          â”‚
â”‚     - å³æ—¶åé¦ˆï¼Œè‡ªåŠ¨æŒ–çŸ¿                                  â”‚
â”‚     - æ¯æ¬¡é‡å¯çŠ¶æ€é‡ç½®                                    â”‚
â”‚     - é€‚åˆï¼šå¿«é€Ÿè¿­ä»£ã€å•å…ƒæµ‹è¯•                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. æœ¬åœ°æŒä¹…åŒ– (localhost)                               â”‚
â”‚     - npx hardhat node å¯åŠ¨ç‹¬ç«‹èŠ‚ç‚¹                       â”‚
â”‚     - çŠ¶æ€åœ¨èŠ‚ç‚¹è¿è¡ŒæœŸé—´ä¿æŒ                              â”‚
â”‚     - é€‚åˆï¼šå‰ç«¯è”è°ƒã€é›†æˆæµ‹è¯•                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. Fork ä¸»ç½‘æµ‹è¯• (hardhat fork)                         â”‚
â”‚     - å¤åˆ¶ä¸»ç½‘çŠ¶æ€åˆ°æœ¬åœ°                                  â”‚
â”‚     - å¯ä»¥ä¸çœŸå®çš„ Uniswapã€AAVE ç­‰äº¤äº’                  â”‚
â”‚     - é€‚åˆï¼šDeFi é›†æˆæµ‹è¯•                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æµ‹è¯•é˜¶æ®µ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4. æµ‹è¯•ç½‘ (sepolia/holesky)                            â”‚
â”‚     - çœŸå®çš„ç½‘ç»œç¯å¢ƒ                                     â”‚
â”‚     - å…è´¹ ETHï¼ˆæ°´é¾™å¤´ï¼‰                                 â”‚
â”‚     - é€‚åˆï¼šç«¯åˆ°ç«¯æµ‹è¯•ã€å›¢é˜Ÿåä½œ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ç”Ÿäº§é˜¶æ®µ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  5. ä¸»ç½‘ (mainnet)                                      â”‚
â”‚     - çœŸå®èµ„äº§ï¼Œä¸å¯æ’¤é”€                                  â”‚
â”‚     - éœ€è¦å®‰å…¨å®¡è®¡                                       â”‚
â”‚     - é€‚åˆï¼šæ­£å¼ä¸Šçº¿                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  6. Layer2 (arbitrum/optimism/base)                    â”‚
â”‚     - æ›´ä½çš„ Gas è´¹ç”¨                                    â”‚
â”‚     - æ›´å¿«çš„ç¡®è®¤æ—¶é—´                                     â”‚
â”‚     - é€‚åˆï¼šé«˜é¢‘äº¤äº’çš„ DApp                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Fork ä¸»ç½‘é…ç½®ï¼š**

```javascript
// hardhat.config.js
module.exports = {
  networks: {
    hardhat: {
      forking: {
        url: process.env.MAINNET_RPC_URL,
        blockNumber: 18500000, // å›ºå®šåŒºå—å·ä»¥è·å¾—å¯é‡å¤ç»“æœ
        enabled: process.env.FORK_ENABLED === "true"
      }
    }
  }
};
```

```bash
# å¯ç”¨ Fork æ¨¡å¼
FORK_ENABLED=true npx hardhat test
```

---

## 4. ã€æœ€å°å¯ç”¨ã€‘

æŒæ¡ä»¥ä¸‹å†…å®¹ï¼Œå°±èƒ½å®Œæˆ 80% çš„å¤šç¯å¢ƒé…ç½®éœ€æ±‚ï¼š

### 4.1 åŸºç¡€é…ç½®æ¨¡æ¿

```javascript
// hardhat.config.js - æœ€å°å¯ç”¨é…ç½®
require("@nomicfoundation/hardhat-toolbox");
require("dotenv").config();

module.exports = {
  solidity: "0.8.20",
  networks: {
    sepolia: {
      url: process.env.SEPOLIA_RPC_URL,
      accounts: [process.env.PRIVATE_KEY]
    }
  }
};
```

```bash
# .env
SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_KEY
PRIVATE_KEY=your_private_key_here
```

### 4.2 å‘½ä»¤è¡Œåˆ‡æ¢ç½‘ç»œ

```bash
# æœ¬åœ°ç½‘ç»œï¼ˆé»˜è®¤ï¼‰
npx hardhat test
npx hardhat ignition deploy ./ignition/modules/MyToken.js

# æµ‹è¯•ç½‘
npx hardhat test --network sepolia
npx hardhat ignition deploy ./ignition/modules/MyToken.js --network sepolia

# ä¸»ç½‘
npx hardhat ignition deploy ./ignition/modules/MyToken.js --network mainnet
```

### 4.3 è„šæœ¬ä¸­è·å–ç½‘ç»œä¿¡æ¯

```javascript
const hre = require("hardhat");

async function main() {
  // å½“å‰ç½‘ç»œåç§°
  console.log("ç½‘ç»œ:", hre.network.name);
  
  // ç½‘ç»œé…ç½®
  console.log("RPC URL:", hre.network.config.url);
  console.log("Chain ID:", hre.network.config.chainId);
  
  // æ ¹æ®ç½‘ç»œæ‰§è¡Œä¸åŒé€»è¾‘
  if (hre.network.name === "mainnet") {
    console.log("âš ï¸ è¿™æ˜¯ä¸»ç½‘ï¼Œè¯·è°¨æ…æ“ä½œï¼");
  }
}
```

### 4.4 å¤šè´¦æˆ·é…ç½®

```javascript
// hardhat.config.js
module.exports = {
  networks: {
    sepolia: {
      url: process.env.SEPOLIA_RPC_URL,
      // æ–¹å¼1ï¼šå¤šä¸ªç§é’¥
      accounts: [
        process.env.DEPLOYER_KEY,  // accounts[0] - éƒ¨ç½²è€…
        process.env.ADMIN_KEY,     // accounts[1] - ç®¡ç†å‘˜
        process.env.USER_KEY       // accounts[2] - æµ‹è¯•ç”¨æˆ·
      ]
    }
  }
};
```

```javascript
// åœ¨è„šæœ¬ä¸­ä½¿ç”¨ä¸åŒè´¦æˆ·
const [deployer, admin, user] = await ethers.getSigners();
console.log("éƒ¨ç½²è€…:", deployer.address);
console.log("ç®¡ç†å‘˜:", admin.address);
```

### 4.5 å¸¸ç”¨ç½‘ç»œ Chain ID é€ŸæŸ¥

```javascript
const CHAIN_IDS = {
  // ä¸»ç½‘
  mainnet: 1,
  
  // æµ‹è¯•ç½‘
  sepolia: 11155111,
  holesky: 17000,
  
  // Layer2 ä¸»ç½‘
  arbitrum: 42161,
  optimism: 10,
  base: 8453,
  polygon: 137,
  
  // Layer2 æµ‹è¯•ç½‘
  arbitrumSepolia: 421614,
  optimismSepolia: 11155420,
  baseSepolia: 84532,
  
  // æœ¬åœ°
  hardhat: 31337,
  localhost: 31337
};
```

**è¿™äº›çŸ¥è¯†è¶³ä»¥ï¼š**
- âœ… é…ç½®æœ¬åœ°ã€æµ‹è¯•ç½‘ã€ä¸»ç½‘ç¯å¢ƒ
- âœ… å®‰å…¨ç®¡ç†ç§é’¥å’Œ RPC URL
- âœ… ä¸€é”®åˆ‡æ¢éƒ¨ç½²ç›®æ ‡ç½‘ç»œ
- âœ… ä½¿ç”¨å¤šä¸ªè´¦æˆ·è¿›è¡Œæµ‹è¯•

---

## 5. ã€1ä¸ªç±»æ¯”ã€‘

### ç±»æ¯”1ï¼šç½‘ç»œé…ç½® = ç¯å¢ƒé…ç½® ğŸŒ

#### ç”Ÿæ´»åœºæ™¯ç±»æ¯”ï¼šç½‘ç»œé…ç½® = è¿é”åº—çš„åŸå¸‚é…ç½®

æƒ³è±¡ä½ ç»è¥ä¸€å®¶è¿é”å’–å•¡åº—ï¼Œåœ¨ä¸åŒåŸå¸‚å¼€åº—ï¼š

**åŸå¸‚ = ç½‘ç»œ**
- åŒ—äº¬ï¼ˆå¼€å‘æ€»éƒ¨ï¼‰= hardhatï¼ˆæœ¬åœ°å¼€å‘ï¼‰
- ä¸Šæµ·ï¼ˆè¯•è¥ä¸šåº—ï¼‰= sepoliaï¼ˆæµ‹è¯•ç½‘ï¼‰
- æ·±åœ³ï¼ˆæ­£å¼é—¨åº—ï¼‰= mainnetï¼ˆä¸»ç½‘ï¼‰

**æ¯ä¸ªåŸå¸‚çš„é…ç½®ä¸åŒï¼š**
- **åœ°å€**ï¼ˆRPC URLï¼‰ï¼šåŒ—äº¬æœé˜³åŒº vs ä¸Šæµ·æµ¦ä¸œæ–°åŒº
- **è´Ÿè´£äºº**ï¼ˆaccountsï¼‰ï¼šæµ‹è¯•åº—é•¿ vs æ­£å¼åº—é•¿
- **åŸå¸‚ä»£ç **ï¼ˆchainIdï¼‰ï¼š010 vs 021 vs 0755
- **è¿è¥ç­–ç•¥**ï¼ˆgasPriceï¼‰ï¼šè¯•è¥ä¸šæ‰“æŠ˜ vs æ­£å¼å®šä»·

**ä¸¾ä¾‹ï¼š**

```javascript
// å’–å•¡åº—é…ç½®
const storeConfig = {
  stores: {
    beijing: {           // æ€»éƒ¨æµ‹è¯•åº—
      address: "åŒ—äº¬å¸‚æœé˜³åŒºxxx",
      manager: "æµ‹è¯•åº—é•¿",
      cityCode: "010"
    },
    shanghai: {          // è¯•è¥ä¸šåº—
      address: "ä¸Šæµ·å¸‚æµ¦ä¸œæ–°åŒºxxx", 
      manager: "å®ä¹ åº—é•¿",
      cityCode: "021"
    },
    shenzhen: {          // æ­£å¼é—¨åº—
      address: "æ·±åœ³å¸‚å—å±±åŒºxxx",
      manager: "æ­£å¼åº—é•¿",
      cityCode: "0755"
    }
  }
};

// å¯¹åº” Hardhat é…ç½®
const hardhatConfig = {
  networks: {
    hardhat: {           // æœ¬åœ°æµ‹è¯•
      chainId: 31337
    },
    sepolia: {           // æµ‹è¯•ç½‘
      url: "æµ‹è¯•ç½‘RPCåœ°å€",
      accounts: ["æµ‹è¯•è´¦æˆ·ç§é’¥"],
      chainId: 11155111
    },
    mainnet: {           // ä¸»ç½‘
      url: "ä¸»ç½‘RPCåœ°å€",
      accounts: ["æ­£å¼è´¦æˆ·ç§é’¥"],
      chainId: 1
    }
  }
};
```

---

#### å‰ç«¯é¢†åŸŸç±»æ¯”ï¼šç½‘ç»œé…ç½® = å‰ç«¯ç¯å¢ƒé…ç½®

å¦‚æœä½ ç†Ÿæ‚‰å‰ç«¯é¡¹ç›®çš„å¤šç¯å¢ƒé…ç½®ï¼š

```bash
# å‰ç«¯é¡¹ç›®çš„ç¯å¢ƒé…ç½®
.env.development    # å¼€å‘ç¯å¢ƒ
.env.staging        # é¢„å‘å¸ƒç¯å¢ƒ  
.env.production     # ç”Ÿäº§ç¯å¢ƒ
```

```javascript
// å‰ç«¯ API é…ç½®
const apiConfig = {
  development: {
    baseURL: "http://localhost:3000/api",
    timeout: 5000
  },
  staging: {
    baseURL: "https://staging-api.example.com",
    timeout: 10000
  },
  production: {
    baseURL: "https://api.example.com",
    timeout: 30000
  }
};
```

```javascript
// Hardhat ç½‘ç»œé…ç½®
const networkConfig = {
  hardhat: {             // â‰ˆ development
    // æœ¬åœ°ç¯å¢ƒï¼Œè‡ªåŠ¨é…ç½®
  },
  sepolia: {             // â‰ˆ staging
    url: "https://sepolia.infura.io/v3/KEY",
    chainId: 11155111
  },
  mainnet: {             // â‰ˆ production
    url: "https://mainnet.infura.io/v3/KEY",
    chainId: 1
  }
};
```

**å¯¹åº”å…³ç³»ï¼š**

| å‰ç«¯æ¦‚å¿µ | Hardhat æ¦‚å¿µ | è¯´æ˜ |
|---------|-------------|------|
| .env.development | hardhat ç½‘ç»œ | æœ¬åœ°å¼€å‘ |
| .env.staging | sepolia ç½‘ç»œ | æµ‹è¯•ç¯å¢ƒ |
| .env.production | mainnet ç½‘ç»œ | ç”Ÿäº§ç¯å¢ƒ |
| API_URL | RPC URL | æœåŠ¡åœ°å€ |
| API_KEY | ç§é’¥ | èº«ä»½å‡­è¯ |
| process.env.NODE_ENV | hre.network.name | å½“å‰ç¯å¢ƒ |
| npm run dev | npx hardhat test | å¼€å‘å‘½ä»¤ |
| npm run build:staging | --network sepolia | æŒ‡å®šç¯å¢ƒ |

---

### ç±»æ¯”æ€»ç»“è¡¨

| ç½‘ç»œé…ç½®æ¦‚å¿µ | ç”Ÿæ´»åœºæ™¯ç±»æ¯” | å‰ç«¯é¢†åŸŸç±»æ¯” |
|-------------|-------------|-------------|
| networks å¯¹è±¡ | åŸå¸‚é—¨åº—åˆ—è¡¨ | ç¯å¢ƒé…ç½®æ–‡ä»¶ |
| RPC URL | é—¨åº—åœ°å€ | API base URL |
| accounts (ç§é’¥) | åº—é•¿ | API Key |
| chainId | åŸå¸‚åŒºå· | ç¯å¢ƒæ ‡è¯† |
| hardhat ç½‘ç»œ | æ€»éƒ¨æµ‹è¯•åº— | development |
| sepolia ç½‘ç»œ | è¯•è¥ä¸šåº— | staging |
| mainnet ç½‘ç»œ | æ­£å¼é—¨åº— | production |
| --network å‚æ•° | é€‰æ‹©å“ªä¸ªåŸå¸‚ | NODE_ENV |
| .env æ–‡ä»¶ | é—¨åº—é…ç½®è¡¨ | ç¯å¢ƒå˜é‡ |

---

## 6. ã€åç›´è§‰ç‚¹ã€‘

### è¯¯åŒº1ï¼šæ¯ä¸ªç½‘ç»œçš„åˆçº¦åœ°å€æ˜¯ä¸€æ ·çš„ âŒ

**ä¸ºä»€ä¹ˆé”™ï¼Ÿ**

- ä¸åŒç½‘ç»œæ˜¯**å®Œå…¨ç‹¬ç«‹**çš„åŒºå—é“¾
- åŒä¸€ä»½ä»£ç éƒ¨ç½²åˆ°ä¸åŒç½‘ç»œï¼Œä¼šå¾—åˆ°**ä¸åŒçš„åœ°å€**
- å³ä½¿ç”¨åŒä¸€ä¸ªéƒ¨ç½²è´¦æˆ·ï¼Œåœ°å€ä¹Ÿä¸åŒï¼ˆå–å†³äºè¯¥ç½‘ç»œä¸Šçš„ nonceï¼‰

```javascript
// âŒ é”™è¯¯ç†è§£
// "æˆ‘åœ¨ Sepolia éƒ¨ç½²çš„åˆçº¦æ˜¯ 0xabcï¼Œä¸»ç½‘ä¹Ÿæ˜¯ 0xabc"

// âœ… æ­£ç¡®ç†è§£
// Sepolia éƒ¨ç½² â†’ 0xabc123...
// Mainnet éƒ¨ç½² â†’ 0xdef456...ï¼ˆå®Œå…¨ä¸åŒçš„åœ°å€ï¼‰

// éœ€è¦åˆ†åˆ«è®°å½•
const addresses = {
  sepolia: {
    token: "0xabc123...",
    router: "0x111222..."
  },
  mainnet: {
    token: "0xdef456...",
    router: "0x333444..."
  }
};
```

**ä¸ºä»€ä¹ˆäººä»¬å®¹æ˜“è¿™æ ·é”™ï¼Ÿ**

å› ä¸º"åŒä¸€ä»½ä»£ç "ç»™äººçš„æ„Ÿè§‰æ˜¯"åŒä¸€ä¸ªåˆçº¦"ï¼Œä½†åœ¨åŒºå—é“¾ä¸Šï¼Œä¸åŒç½‘ç»œå°±æ˜¯ä¸åŒçš„ä¸–ç•Œã€‚

**æ­£ç¡®ç†è§£ï¼š**

```javascript
// ä½¿ç”¨ Ignition çš„éƒ¨ç½²è®°å½•ç®¡ç†
// ignition/deployments/chain-11155111/deployed_addresses.json (Sepolia)
// ignition/deployments/chain-1/deployed_addresses.json (Mainnet)

// æˆ–è€…è‡ªå·±ç»´æŠ¤åœ°å€é…ç½®
// config/addresses.js
module.exports = {
  11155111: {  // Sepolia
    token: "0xabc...",
    uniswapRouter: "0x..."
  },
  1: {         // Mainnet
    token: "0xdef...",
    uniswapRouter: "0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D"
  }
};
```

---

### è¯¯åŒº2ï¼šæœ¬åœ°ç½‘ç»œçš„æµ‹è¯•è¶³å¤Ÿäº†ï¼Œä¸éœ€è¦æµ‹è¯•ç½‘ âŒ

**ä¸ºä»€ä¹ˆé”™ï¼Ÿ**

æœ¬åœ°ç½‘ç»œä¸çœŸå®ç½‘ç»œæœ‰é‡è¦å·®å¼‚ï¼š

1. **å³æ—¶ç¡®è®¤**ï¼šæœ¬åœ°ç½‘ç»œæ¯ç¬”äº¤æ˜“ç«‹å³ç¡®è®¤ï¼ŒçœŸå®ç½‘ç»œéœ€è¦ç­‰å¾…
2. **æ—  Gas ç«äº‰**ï¼šæœ¬åœ°ç½‘ç»œæ²¡æœ‰å…¶ä»–ç”¨æˆ·ï¼ŒGas ä»·æ ¼ç¨³å®š
3. **å­¤ç«‹ç¯å¢ƒ**ï¼šæ— æ³•ä¸å…¶ä»–çœŸå®åˆçº¦ï¼ˆUniswapã€AAVEï¼‰äº¤äº’
4. **çŠ¶æ€é‡ç½®**ï¼šæœ¬åœ°ç½‘ç»œé‡å¯åçŠ¶æ€ä¸¢å¤±

```javascript
// æœ¬åœ°ç½‘ç»œçš„å‡è±¡
// - äº¤æ˜“æ°¸è¿œæˆåŠŸï¼ˆæ²¡æœ‰ç«äº‰ï¼‰
// - ç­‰å¾…æ—¶é—´ä¸º 0ï¼ˆè‡ªåŠ¨æŒ–çŸ¿ï¼‰
// - æ²¡æœ‰çœŸå®çš„ä»·æ ¼é¢„è¨€æœºæ•°æ®

// æµ‹è¯•ç½‘çš„çœŸå®æƒ…å†µ
// - å¯èƒ½å›  Gas ä¸è¶³å¤±è´¥
// - éœ€è¦ç­‰å¾… 12 ç§’+ ç¡®è®¤
// - å¯ä»¥æµ‹è¯•ä¸çœŸå®åè®®çš„é›†æˆ
```

**ä¸ºä»€ä¹ˆäººä»¬å®¹æ˜“è¿™æ ·é”™ï¼Ÿ**

å› ä¸ºæœ¬åœ°æµ‹è¯•æ›´æ–¹ä¾¿ã€æ›´å¿«ï¼Œå®¹æ˜“è®©äººè§‰å¾—"æµ‹è¯•ç½‘åªæ˜¯å¤šæ­¤ä¸€ä¸¾"ã€‚

**æ­£ç¡®ç†è§£ï¼š**

```javascript
// æµ‹è¯•å±‚çº§
// 1. å•å…ƒæµ‹è¯• â†’ æœ¬åœ°ç½‘ç»œï¼ˆå¿«é€Ÿè¿­ä»£ï¼‰
// 2. é›†æˆæµ‹è¯• â†’ Fork ä¸»ç½‘ï¼ˆæµ‹è¯•çœŸå®äº¤äº’ï¼‰
// 3. ç«¯åˆ°ç«¯æµ‹è¯• â†’ æµ‹è¯•ç½‘ï¼ˆéªŒè¯çœŸå®ç¯å¢ƒï¼‰
// 4. éƒ¨ç½²éªŒè¯ â†’ ä¸»ç½‘ï¼ˆæ­£å¼ä¸Šçº¿ï¼‰

// æ¯ä¸€å±‚éƒ½ä¸å¯æˆ–ç¼º
```

---

### è¯¯åŒº3ï¼šç¯å¢ƒå˜é‡åªè¦è®¾ç½®äº†å°±å®‰å…¨äº† âŒ

**ä¸ºä»€ä¹ˆé”™ï¼Ÿ**

ç¯å¢ƒå˜é‡åªæ˜¯"ä¸ç¡¬ç¼–ç "çš„ç¬¬ä¸€æ­¥ï¼Œè¿˜éœ€è¦ï¼š

1. **ä¸æäº¤åˆ° Git**ï¼š.env å¿…é¡»åœ¨ .gitignore ä¸­
2. **ä¸æ‰“å°åˆ°æ—¥å¿—**ï¼šconsole.log ä¸è¦è¾“å‡ºç§é’¥
3. **åˆ†ç¦»æƒé™**ï¼šæµ‹è¯•ç§é’¥å’Œä¸»ç½‘ç§é’¥åˆ†å¼€
4. **æœ€å°æƒé™**ï¼šéƒ¨ç½²è´¦æˆ·ä¸è¦æœ‰å¤šä½™çš„èµ„äº§

```javascript
// âŒ å±é™©åšæ³•
console.log("ä½¿ç”¨ç§é’¥:", process.env.PRIVATE_KEY); // æš´éœ²ç§é’¥ï¼

// âŒ å±é™©åšæ³•ï¼šæµ‹è¯•å’Œä¸»ç½‘ç”¨åŒä¸€ä¸ªç§é’¥
PRIVATE_KEY=my_main_wallet_key  // å¦‚æœæµ‹è¯•ä»£ç æœ‰æ¼æ´...

// âœ… å®‰å…¨åšæ³•
TEST_PRIVATE_KEY=dedicated_test_key
MAINNET_PRIVATE_KEY=separate_mainnet_key  // åªåœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨
```

**ä¸ºä»€ä¹ˆäººä»¬å®¹æ˜“è¿™æ ·é”™ï¼Ÿ**

å› ä¸º"ç”¨äº†ç¯å¢ƒå˜é‡"ç»™äººä¸€ç§è™šå‡çš„å®‰å…¨æ„Ÿï¼Œä½†ç¯å¢ƒå˜é‡åªæ˜¯ç¬¬ä¸€æ­¥ã€‚

**æ­£ç¡®ç†è§£ï¼š**

```javascript
// å®‰å…¨æ£€æŸ¥æ¸…å•
// âœ… .env åœ¨ .gitignore ä¸­
// âœ… ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒç§é’¥
// âœ… ç§é’¥ä¸æ‰“å°åˆ°æ—¥å¿—
// âœ… éƒ¨ç½²è´¦æˆ·ä½™é¢æœ€å°åŒ–
// âœ… ä¸»ç½‘éƒ¨ç½²å‰å¤šäººå®¡æ ¸
// âœ… ä½¿ç”¨ç¡¬ä»¶é’±åŒ…ç­¾åï¼ˆè¿›é˜¶ï¼‰
```

---

## 7. ã€å®æˆ˜ä»£ç ã€‘

### å®Œæ•´çš„å¤šç¯å¢ƒé…ç½®ç¤ºä¾‹

```javascript
// ===== hardhat.config.js =====
require("@nomicfoundation/hardhat-toolbox");
require("@nomicfoundation/hardhat-ignition-ethers");
require("dotenv").config();

// è¾…åŠ©å‡½æ•°ï¼šå®‰å…¨è·å–ç¯å¢ƒå˜é‡
function getEnvVar(name, defaultValue = "") {
  return process.env[name] || defaultValue;
}

// è¾…åŠ©å‡½æ•°ï¼šè·å–è´¦æˆ·é…ç½®
function getAccounts(envVarName) {
  const key = getEnvVar(envVarName);
  return key ? [key] : [];
}

// ç½‘ç»œé…ç½®
const config = {
  solidity: {
    version: "0.8.20",
    settings: {
      optimizer: {
        enabled: true,
        runs: 200
      }
    }
  },

  networks: {
    // ===== æœ¬åœ°ç½‘ç»œ =====
    hardhat: {
      chainId: 31337,
      // Fork ä¸»ç½‘é…ç½®ï¼ˆå¯é€‰ï¼‰
      forking: getEnvVar("FORK_ENABLED") === "true" ? {
        url: getEnvVar("MAINNET_RPC_URL"),
        blockNumber: parseInt(getEnvVar("FORK_BLOCK_NUMBER", "0")) || undefined
      } : undefined
    },

    localhost: {
      url: "http://127.0.0.1:8545",
      chainId: 31337,
    },

    // ===== ä»¥å¤ªåŠæµ‹è¯•ç½‘ =====
    sepolia: {
      url: getEnvVar("SEPOLIA_RPC_URL"),
      accounts: getAccounts("PRIVATE_KEY"),
      chainId: 11155111,
    },

    holesky: {
      url: getEnvVar("HOLESKY_RPC_URL", "https://ethereum-holesky.publicnode.com"),
      accounts: getAccounts("PRIVATE_KEY"),
      chainId: 17000,
    },

    // ===== ä»¥å¤ªåŠä¸»ç½‘ =====
    mainnet: {
      url: getEnvVar("MAINNET_RPC_URL"),
      accounts: getAccounts("MAINNET_PRIVATE_KEY"),
      chainId: 1,
      // ä¸»ç½‘å»ºè®®è®¾ç½®æ›´é«˜çš„è¶…æ—¶
      timeout: 120000,
    },

    // ===== Layer2 ä¸»ç½‘ =====
    arbitrum: {
      url: getEnvVar("ARBITRUM_RPC_URL", "https://arb1.arbitrum.io/rpc"),
      accounts: getAccounts("PRIVATE_KEY"),
      chainId: 42161,
    },

    optimism: {
      url: getEnvVar("OPTIMISM_RPC_URL", "https://mainnet.optimism.io"),
      accounts: getAccounts("PRIVATE_KEY"),
      chainId: 10,
    },

    base: {
      url: getEnvVar("BASE_RPC_URL", "https://mainnet.base.org"),
      accounts: getAccounts("PRIVATE_KEY"),
      chainId: 8453,
    },

    polygon: {
      url: getEnvVar("POLYGON_RPC_URL", "https://polygon-rpc.com"),
      accounts: getAccounts("PRIVATE_KEY"),
      chainId: 137,
    },

    // ===== Layer2 æµ‹è¯•ç½‘ =====
    arbitrumSepolia: {
      url: getEnvVar("ARBITRUM_SEPOLIA_RPC_URL", "https://sepolia-rollup.arbitrum.io/rpc"),
      accounts: getAccounts("PRIVATE_KEY"),
      chainId: 421614,
    },

    baseSepolia: {
      url: getEnvVar("BASE_SEPOLIA_RPC_URL", "https://sepolia.base.org"),
      accounts: getAccounts("PRIVATE_KEY"),
      chainId: 84532,
    },
  },

  // ===== Etherscan éªŒè¯é…ç½® =====
  etherscan: {
    apiKey: {
      mainnet: getEnvVar("ETHERSCAN_API_KEY"),
      sepolia: getEnvVar("ETHERSCAN_API_KEY"),
      arbitrumOne: getEnvVar("ARBISCAN_API_KEY"),
      optimisticEthereum: getEnvVar("OPTIMISM_API_KEY"),
      base: getEnvVar("BASESCAN_API_KEY"),
      polygon: getEnvVar("POLYGONSCAN_API_KEY"),
    }
  },

  // ===== Gas Reporterï¼ˆå¯é€‰ï¼‰=====
  gasReporter: {
    enabled: getEnvVar("REPORT_GAS") === "true",
    currency: "USD",
    coinmarketcap: getEnvVar("COINMARKETCAP_API_KEY"),
  },
};

module.exports = config;
```

```bash
# ===== .env å®Œæ•´æ¨¡æ¿ =====

# ===== RPC URLs =====
# ä»¥å¤ªåŠ
SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_KEY
HOLESKY_RPC_URL=https://ethereum-holesky.publicnode.com
MAINNET_RPC_URL=https://mainnet.infura.io/v3/YOUR_KEY

# Layer2
ARBITRUM_RPC_URL=https://arb1.arbitrum.io/rpc
OPTIMISM_RPC_URL=https://mainnet.optimism.io
BASE_RPC_URL=https://mainnet.base.org
POLYGON_RPC_URL=https://polygon-rpc.com

# Layer2 æµ‹è¯•ç½‘
ARBITRUM_SEPOLIA_RPC_URL=https://sepolia-rollup.arbitrum.io/rpc
BASE_SEPOLIA_RPC_URL=https://sepolia.base.org

# ===== ç§é’¥ =====
# æµ‹è¯•ç½‘è´¦æˆ·
PRIVATE_KEY=your_test_private_key_here

# ä¸»ç½‘è´¦æˆ·ï¼ˆå»ºè®®ä½¿ç”¨ç‹¬ç«‹çš„å®‰å…¨è´¦æˆ·ï¼‰
MAINNET_PRIVATE_KEY=your_mainnet_private_key_here

# ===== API Keys =====
ETHERSCAN_API_KEY=your_etherscan_key
ARBISCAN_API_KEY=your_arbiscan_key
OPTIMISM_API_KEY=your_optimism_key
BASESCAN_API_KEY=your_basescan_key
POLYGONSCAN_API_KEY=your_polygonscan_key
INFURA_API_KEY=your_infura_key
COINMARKETCAP_API_KEY=your_cmc_key

# ===== å¯é€‰é…ç½® =====
FORK_ENABLED=false
FORK_BLOCK_NUMBER=18500000
REPORT_GAS=false
```

```javascript
// ===== scripts/check-network.js - ç½‘ç»œæ£€æŸ¥è„šæœ¬ =====
const hre = require("hardhat");

async function main() {
  console.log("=== ç½‘ç»œæ£€æŸ¥ ===\n");
  
  // 1. å½“å‰ç½‘ç»œä¿¡æ¯
  const networkName = hre.network.name;
  const networkConfig = hre.network.config;
  
  console.log(`ç½‘ç»œåç§°: ${networkName}`);
  console.log(`Chain ID: ${networkConfig.chainId || "è‡ªåŠ¨æ£€æµ‹"}`);
  console.log(`RPC URL: ${networkConfig.url || "å†…ç½®"}`);
  
  // 2. æ£€æŸ¥è¿æ¥
  try {
    const provider = hre.ethers.provider;
    const network = await provider.getNetwork();
    console.log(`\nå·²è¿æ¥ï¼Œå®é™… Chain ID: ${network.chainId}`);
    
    const blockNumber = await provider.getBlockNumber();
    console.log(`æœ€æ–°åŒºå—: ${blockNumber}`);
  } catch (error) {
    console.log(`\nâŒ è¿æ¥å¤±è´¥: ${error.message}`);
    return;
  }
  
  // 3. æ£€æŸ¥è´¦æˆ·
  const accounts = await hre.ethers.getSigners();
  if (accounts.length === 0) {
    console.log("\nâš ï¸ è­¦å‘Š: æ²¡æœ‰é…ç½®è´¦æˆ·ï¼Œæ— æ³•å‘é€äº¤æ˜“");
    return;
  }
  
  console.log(`\né…ç½®çš„è´¦æˆ·æ•°: ${accounts.length}`);
  
  for (let i = 0; i < Math.min(accounts.length, 3); i++) {
    const address = await accounts[i].getAddress();
    const balance = await hre.ethers.provider.getBalance(address);
    console.log(`  è´¦æˆ· ${i}: ${address}`);
    console.log(`    ä½™é¢: ${hre.ethers.formatEther(balance)} ETH`);
  }
  
  // 4. Gas ä»·æ ¼
  const feeData = await provider.getFeeData();
  console.log(`\nå½“å‰ Gas ä»·æ ¼: ${hre.ethers.formatUnits(feeData.gasPrice, "gwei")} gwei`);
  
  // 5. å®‰å…¨æé†’
  if (networkName === "mainnet") {
    console.log("\nâš ï¸âš ï¸âš ï¸ è¿™æ˜¯ä¸»ç½‘ï¼è¯·ç¡®ä¿ï¼š");
    console.log("  - åˆçº¦å·²ç»è¿‡å®¡è®¡");
    console.log("  - éƒ¨ç½²å‚æ•°å·²ç¡®è®¤");
    console.log("  - Gas é¢„ç®—å……è¶³");
  }
  
  console.log("\nâœ… ç½‘ç»œæ£€æŸ¥å®Œæˆ");
}

main().catch((error) => {
  console.error(error);
  process.exit(1);
});
```

```bash
# ===== è¿è¡Œç¤ºä¾‹ =====

# æ£€æŸ¥æœ¬åœ°ç½‘ç»œ
npx hardhat run scripts/check-network.js

# æ£€æŸ¥ Sepolia
npx hardhat run scripts/check-network.js --network sepolia

# æ£€æŸ¥ä¸»ç½‘
npx hardhat run scripts/check-network.js --network mainnet
```

**è¿è¡Œè¾“å‡ºç¤ºä¾‹ï¼š**

```
=== ç½‘ç»œæ£€æŸ¥ ===

ç½‘ç»œåç§°: sepolia
Chain ID: 11155111
RPC URL: https://sepolia.infura.io/v3/xxx

å·²è¿æ¥ï¼Œå®é™… Chain ID: 11155111
æœ€æ–°åŒºå—: 5000000

é…ç½®çš„è´¦æˆ·æ•°: 1
  è´¦æˆ· 0: 0x1234567890abcdef...
    ä½™é¢: 0.5 ETH

å½“å‰ Gas ä»·æ ¼: 25.5 gwei

âœ… ç½‘ç»œæ£€æŸ¥å®Œæˆ
```

---

## 8. ã€é¢è¯•å¿…é—®ã€‘

### é—®é¢˜1ï¼š"å¦‚ä½•åœ¨ Hardhat ä¸­é…ç½®å¤šä¸ªç½‘ç»œï¼Ÿ"

**æ™®é€šå›ç­”ï¼ˆâŒ ä¸å‡ºå½©ï¼‰ï¼š**

"åœ¨ hardhat.config.js çš„ networks é‡Œé¢é…ç½®ä¸åŒçš„ç½‘ç»œï¼Œç„¶åç”¨ --network å‚æ•°åˆ‡æ¢ã€‚"

**å‡ºå½©å›ç­”ï¼ˆâœ… æ¨èï¼‰ï¼š**

> **Hardhat å¤šç½‘ç»œé…ç½®æ¶‰åŠä¸‰ä¸ªå±‚é¢ï¼š**
>
> **1. é…ç½®ç»“æ„**
> ```javascript
> // hardhat.config.js
> module.exports = {
>   networks: {
>     hardhat: { chainId: 31337 },
>     sepolia: {
>       url: process.env.SEPOLIA_RPC_URL,
>       accounts: [process.env.PRIVATE_KEY],
>       chainId: 11155111
>     },
>     mainnet: {
>       url: process.env.MAINNET_RPC_URL,
>       accounts: [process.env.MAINNET_PRIVATE_KEY],
>       chainId: 1
>     }
>   }
> };
> ```
>
> **2. å®‰å…¨æœ€ä½³å®è·µ**
> - ä½¿ç”¨ dotenv ç®¡ç†æ•æ„Ÿä¿¡æ¯
> - .env æ–‡ä»¶åŠ å…¥ .gitignore
> - æµ‹è¯•ç½‘å’Œä¸»ç½‘ä½¿ç”¨ä¸åŒç§é’¥
> - ä¸»ç½‘ç§é’¥å•ç‹¬å­˜å‚¨
>
> **3. ç¯å¢ƒåˆ‡æ¢**
> ```bash
> # å‘½ä»¤è¡Œåˆ‡æ¢
> npx hardhat test --network sepolia
> npx hardhat ignition deploy ./module.js --network mainnet
> 
> # è„šæœ¬ä¸­æ£€æµ‹
> if (hre.network.name === "mainnet") {
>   console.log("ä¸»ç½‘éƒ¨ç½²ï¼Œè¯·ç¡®è®¤ï¼");
> }
> ```
>
> **4. é«˜çº§é…ç½®**
> - Fork ä¸»ç½‘ï¼šç”¨äº DeFi é›†æˆæµ‹è¯•
> - Gas é…ç½®ï¼šä¸åŒç½‘ç»œè®¾ç½®ä¸åŒ gasPrice
> - è¶…æ—¶é…ç½®ï¼šä¸»ç½‘éœ€è¦æ›´é•¿çš„ç­‰å¾…æ—¶é—´
> - Etherscan APIï¼šæ¯ä¸ªç½‘ç»œéœ€è¦å¯¹åº”çš„ API Key
>
> **å®é™…é¡¹ç›®ä¸­çš„å¸¸è§æ¨¡å¼**ï¼š
> - æœ¬åœ°å¼€å‘ â†’ hardhat
> - å‰ç«¯è”è°ƒ â†’ localhostï¼ˆnpx hardhat nodeï¼‰
> - æµ‹è¯•éªŒè¯ â†’ sepolia
> - æ­£å¼ä¸Šçº¿ â†’ mainnet

**ä¸ºä»€ä¹ˆè¿™ä¸ªå›ç­”å‡ºå½©ï¼Ÿ**
1. âœ… ç»™å‡ºäº†å®Œæ•´çš„é…ç½®ç¤ºä¾‹
2. âœ… å¼ºè°ƒäº†å®‰å…¨æœ€ä½³å®è·µ
3. âœ… è§£é‡Šäº†ç¯å¢ƒåˆ‡æ¢æ–¹æ³•
4. âœ… æåˆ°äº†é«˜çº§é…ç½®å’Œå®é™…é¡¹ç›®æ¨¡å¼

---

### é—®é¢˜2ï¼š"å¦‚ä½•å®‰å…¨åœ°ç®¡ç†éƒ¨ç½²ç§é’¥ï¼Ÿ"

**æ™®é€šå›ç­”ï¼ˆâŒ ä¸å‡ºå½©ï¼‰ï¼š**

"ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨ï¼Œä¸è¦ç¡¬ç¼–ç åœ¨ä»£ç é‡Œã€‚"

**å‡ºå½©å›ç­”ï¼ˆâœ… æ¨èï¼‰ï¼š**

> **ç§é’¥å®‰å…¨ç®¡ç†æ˜¯å¤šå±‚æ¬¡çš„ï¼Œéœ€è¦ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢è€ƒè™‘ï¼š**
>
> **1. åŸºç¡€æªæ–½ï¼šç¯å¢ƒå˜é‡**
> ```javascript
> // hardhat.config.js
> accounts: process.env.PRIVATE_KEY ? [process.env.PRIVATE_KEY] : []
> ```
> ```bash
> # .env å¿…é¡»åœ¨ .gitignore ä¸­
> echo ".env" >> .gitignore
> ```
>
> **2. è´¦æˆ·éš”ç¦»**
> ```bash
> # ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒè´¦æˆ·
> PRIVATE_KEY=test_account_key           # æµ‹è¯•ç½‘
> MAINNET_PRIVATE_KEY=prod_account_key   # ä¸»ç½‘
> ```
> - æµ‹è¯•è´¦æˆ·åªå­˜å°‘é‡æµ‹è¯• ETH
> - ä¸»ç½‘è´¦æˆ·æœ€å°åŒ–ä½™é¢ï¼Œåªå­˜éƒ¨ç½²æ‰€éœ€
>
> **3. ä»£ç å®‰å…¨**
> ```javascript
> // âŒ å±é™©ï¼šæ‰“å°ç§é’¥
> console.log(process.env.PRIVATE_KEY);
> 
> // âœ… å®‰å…¨ï¼šåªæ‰“å°åœ°å€
> console.log(await signer.getAddress());
> ```
>
> **4. ä¸»ç½‘éƒ¨ç½²çš„é¢å¤–æªæ–½**
> - å¤šäººå®¡æ ¸éƒ¨ç½²å‚æ•°
> - ä½¿ç”¨å¤šç­¾é’±åŒ…ä½œä¸ºåˆçº¦ owner
> - è€ƒè™‘ä½¿ç”¨ç¡¬ä»¶é’±åŒ…ç­¾åï¼ˆLedger/Trezorï¼‰
> - CI/CD ä¸­ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆAWS Secrets Manager ç­‰ï¼‰
>
> **5. æ³„éœ²åçš„åº”æ€¥æªæ–½**
> - ç«‹å³è½¬ç§»è´¦æˆ·èµ„äº§
> - æ£€æŸ¥å·²éƒ¨ç½²åˆçº¦çš„ owner
> - å¦‚æœ‰ç®¡ç†æƒé™ï¼Œç«‹å³è½¬ç§»åˆ°æ–°è´¦æˆ·
>
> **æˆ‘ä»¬é¡¹ç›®ä¸­çš„å®è·µ**ï¼š
> - å¼€å‘ç”¨ Hardhat è‡ªåŠ¨ç”Ÿæˆçš„æµ‹è¯•è´¦æˆ·
> - æµ‹è¯•ç½‘ç”¨ä¸“é—¨çš„æµ‹è¯•é’±åŒ…
> - ä¸»ç½‘éƒ¨ç½²é€šè¿‡ CI/CDï¼Œç§é’¥å­˜åœ¨ GitHub Secrets
> - éƒ¨ç½²å owner è½¬ç»™å¤šç­¾é’±åŒ…ï¼ˆGnosis Safeï¼‰

**ä¸ºä»€ä¹ˆè¿™ä¸ªå›ç­”å‡ºå½©ï¼Ÿ**
1. âœ… åˆ†å±‚æ¬¡è®²è§£ï¼ˆåŸºç¡€â†’è¿›é˜¶â†’åº”æ€¥ï¼‰
2. âœ… ç»™å‡ºäº†å…·ä½“çš„ä»£ç ç¤ºä¾‹
3. âœ… è€ƒè™‘äº†ä¸»ç½‘éƒ¨ç½²çš„ç‰¹æ®Šéœ€æ±‚
4. âœ… åˆ†äº«äº†å®é™…é¡¹ç›®ç»éªŒ

---

## 9. ã€åŒ–éª¨ç»µæŒã€‘

### å¡ç‰‡1ï¼šç›´è§‰ç†è§£ - ç½‘ç»œé…ç½®æ˜¯ä»€ä¹ˆï¼Ÿ ğŸ¯

**ä¸€å¥è¯ï¼š** ç½‘ç»œé…ç½®å‘Šè¯‰ Hardhat å¦‚ä½•è¿æ¥ä¸åŒçš„åŒºå—é“¾ç½‘ç»œï¼Œç±»ä¼¼å‰ç«¯é¡¹ç›®çš„ .env.development / .env.productionã€‚

**ä¸¾ä¾‹ï¼š**
```javascript
// å‰ç«¯
const apiUrl = process.env.API_URL;

// Hardhat
const rpcUrl = networkConfig.url;
```

**åº”ç”¨ï¼š** åŒä¸€ä»½åˆçº¦ä»£ç ï¼Œé€šè¿‡åˆ‡æ¢ç½‘ç»œé…ç½®ï¼Œéƒ¨ç½²åˆ°æœ¬åœ°/æµ‹è¯•ç½‘/ä¸»ç½‘ã€‚

---

### å¡ç‰‡2ï¼šå½¢å¼åŒ–å®šä¹‰ - networks å¯¹è±¡ ğŸ“

**ä¸€å¥è¯ï¼š** networks æ˜¯ hardhat.config.js ä¸­å®šä¹‰æ‰€æœ‰ç›®æ ‡ç½‘ç»œçš„å¯¹è±¡ï¼ŒåŒ…å« urlã€accountsã€chainId ç­‰å­—æ®µã€‚

**ä¸¾ä¾‹ï¼š**
```javascript
networks: {
  sepolia: {
    url: "https://sepolia.infura.io/v3/KEY",
    accounts: ["0xPRIVATE_KEY"],
    chainId: 11155111
  }
}
```

**åº”ç”¨ï¼š** æ¯ä¸ªç½‘ç»œç‹¬ç«‹é…ç½®ï¼Œäº’ä¸å¹²æ‰°ï¼Œé€šè¿‡ --network å‚æ•°åˆ‡æ¢ã€‚

---

### å¡ç‰‡3ï¼šå…³é”®æ¦‚å¿µ - ç¯å¢ƒå˜é‡ ğŸ”

**ä¸€å¥è¯ï¼š** ä½¿ç”¨ dotenv ä» .env æ–‡ä»¶åŠ è½½ç§é’¥å’Œ RPC URLï¼Œé¿å…æ•æ„Ÿä¿¡æ¯ç¡¬ç¼–ç ã€‚

**ä¸¾ä¾‹ï¼š**
```bash
# .env
SEPOLIA_RPC_URL=https://...
PRIVATE_KEY=0x...
```

```javascript
// hardhat.config.js
require("dotenv").config();
url: process.env.SEPOLIA_RPC_URL
```

**åº”ç”¨ï¼š** .env å¿…é¡»åŠ å…¥ .gitignoreï¼Œæ°¸è¿œä¸è¦æäº¤åˆ°ä»£ç ä»“åº“ã€‚

---

### å¡ç‰‡4ï¼šå…³é”®æ¦‚å¿µ - ç½‘ç»œåˆ‡æ¢ ğŸ”„

**ä¸€å¥è¯ï¼š** ä½¿ç”¨ --network å‘½ä»¤è¡Œå‚æ•°æŒ‡å®šç›®æ ‡ç½‘ç»œï¼Œé»˜è®¤ä½¿ç”¨ hardhat æœ¬åœ°ç½‘ç»œã€‚

**ä¸¾ä¾‹ï¼š**
```bash
# æœ¬åœ°æµ‹è¯•ï¼ˆé»˜è®¤ï¼‰
npx hardhat test

# æµ‹è¯•ç½‘
npx hardhat test --network sepolia

# ä¸»ç½‘
npx hardhat ignition deploy ./module.js --network mainnet
```

**åº”ç”¨ï¼š** ä¸€ä»½ä»£ç ï¼Œå¤šç¯å¢ƒéƒ¨ç½²ï¼Œæ˜¯ä¸“ä¸šå¼€å‘æµç¨‹çš„åŸºç¡€ã€‚

---

### å¡ç‰‡5ï¼šç¼–ç¨‹å®ç° - å®Œæ•´é…ç½® ğŸ’»

**ä¸€å¥è¯ï¼š** ç»“åˆ dotenvã€ç½‘ç»œå¯¹è±¡ã€Etherscan APIï¼Œæ„å»ºå®Œæ•´çš„å¤šç¯å¢ƒé…ç½®ã€‚

**ä¸¾ä¾‹ï¼š**
```javascript
require("dotenv").config();

module.exports = {
  solidity: "0.8.20",
  networks: {
    sepolia: {
      url: process.env.SEPOLIA_RPC_URL,
      accounts: [process.env.PRIVATE_KEY]
    }
  },
  etherscan: {
    apiKey: process.env.ETHERSCAN_API_KEY
  }
};
```

**åº”ç”¨ï¼š** è¿™æ˜¯ç”Ÿäº§çº§é¡¹ç›®çš„æ ‡å‡†é…ç½®æ¨¡å¼ã€‚

---

### å¡ç‰‡6ï¼šå¯¹æ¯”åŒºåˆ† - æœ¬åœ° vs æµ‹è¯•ç½‘ vs ä¸»ç½‘ ğŸ†š

**ä¸€å¥è¯ï¼š** ä¸‰ç§ç¯å¢ƒå„æœ‰ç”¨é€”ï¼šæœ¬åœ°å¿«é€Ÿè¿­ä»£ï¼Œæµ‹è¯•ç½‘æ¨¡æ‹ŸçœŸå®ï¼Œä¸»ç½‘æ­£å¼ä¸Šçº¿ã€‚

**ä¸¾ä¾‹ï¼š**

| ç¯å¢ƒ | ç”¨é€” | æˆæœ¬ | é€Ÿåº¦ |
|-----|------|------|------|
| hardhat | å¼€å‘è°ƒè¯• | å…è´¹ | å³æ—¶ |
| sepolia | æµ‹è¯•éªŒè¯ | å…è´¹ | ~12ç§’ |
| mainnet | æ­£å¼ä¸Šçº¿ | çœŸé’± | ~12ç§’ |

**åº”ç”¨ï¼š** éµå¾ªæœ¬åœ°â†’æµ‹è¯•ç½‘â†’ä¸»ç½‘çš„æ¸è¿›å¼éƒ¨ç½²æµç¨‹ã€‚

---

### å¡ç‰‡7ï¼šè¿›é˜¶ç†è§£ - Fork ä¸»ç½‘ ğŸ´

**ä¸€å¥è¯ï¼š** Fork ä¸»ç½‘æ˜¯å°†ä¸»ç½‘çŠ¶æ€å¤åˆ¶åˆ°æœ¬åœ°ï¼Œå¯ä»¥ä¸çœŸå®çš„ Uniswapã€AAVE ç­‰åè®®äº¤äº’æµ‹è¯•ã€‚

**ä¸¾ä¾‹ï¼š**
```javascript
hardhat: {
  forking: {
    url: process.env.MAINNET_RPC_URL,
    blockNumber: 18500000
  }
}
```

**åº”ç”¨ï¼š** DeFi é¡¹ç›®å¿…å¤‡ï¼Œå¯ä»¥æµ‹è¯•ä¸ç°æœ‰åè®®çš„é›†æˆã€‚

---

### å¡ç‰‡8ï¼šé«˜çº§åº”ç”¨ - å¤šè´¦æˆ·é…ç½® ğŸ‘¥

**ä¸€å¥è¯ï¼š** accounts æ•°ç»„æ”¯æŒå¤šä¸ªç§é’¥ï¼Œåœ¨æµ‹è¯•ä¸­æ¨¡æ‹Ÿå¤šç”¨æˆ·äº¤äº’ã€‚

**ä¸¾ä¾‹ï¼š**
```javascript
accounts: [
  process.env.DEPLOYER_KEY,  // accounts[0]
  process.env.ADMIN_KEY,     // accounts[1]
  process.env.USER_KEY       // accounts[2]
]

const [deployer, admin, user] = await ethers.getSigners();
```

**åº”ç”¨ï¼š** æµ‹è¯•æƒé™æ§åˆ¶ã€å¤šç”¨æˆ·äº¤äº’åœºæ™¯å¿…å¤‡ã€‚

---

### å¡ç‰‡9ï¼šåœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨ ğŸŒ

**ä¸€å¥è¯ï¼š** ç”Ÿäº§é¡¹ç›®éœ€è¦å®Œå–„çš„å®‰å…¨æªæ–½ï¼šè´¦æˆ·éš”ç¦»ã€CI/CD é›†æˆã€å¤šç­¾é’±åŒ…ã€‚

**ä¸¾ä¾‹ï¼š**
```
å¼€å‘é˜¶æ®µï¼šæœ¬åœ° Hardhat ç½‘ç»œï¼Œè‡ªåŠ¨ç”Ÿæˆè´¦æˆ·
æµ‹è¯•é˜¶æ®µï¼šSepoliaï¼Œä¸“ç”¨æµ‹è¯•è´¦æˆ·
CI/CDï¼šGitHub Secrets å­˜å‚¨ç§é’¥
ç”Ÿäº§é˜¶æ®µï¼šä¸»ç½‘ï¼Œå¤šç­¾é’±åŒ…ä½œä¸º owner
```

**åº”ç”¨ï¼š** ä¸åŒé˜¶æ®µæœ‰ä¸åŒçš„å®‰å…¨è¦æ±‚ï¼Œè¶Šæ¥è¿‘ä¸»ç½‘è¶Šä¸¥æ ¼ã€‚

---

### å¡ç‰‡10ï¼šæ€»ç»“ä¸å»¶ä¼¸ ğŸ“

**ä¸€å¥è¯ï¼š** ç½‘ç»œé…ç½®æ˜¯å¤šç¯å¢ƒéƒ¨ç½²çš„åŸºç¡€ï¼ŒæŒæ¡é…ç½®+ç¯å¢ƒå˜é‡+å®‰å…¨å®è·µï¼Œå°±èƒ½åº”å¯¹ 90% çš„éƒ¨ç½²åœºæ™¯ã€‚

**æ ¸å¿ƒè¦ç‚¹æ€»ç»“ï¼š**

1. **networks å¯¹è±¡** = url + accounts + chainId
2. **ç¯å¢ƒå˜é‡** = dotenv + .gitignore
3. **ç½‘ç»œåˆ‡æ¢** = --network å‚æ•°
4. **å®‰å…¨å®è·µ** = è´¦æˆ·éš”ç¦» + æœ€å°æƒé™
5. **éƒ¨ç½²æµç¨‹** = æœ¬åœ° â†’ æµ‹è¯•ç½‘ â†’ ä¸»ç½‘

**ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®ï¼š**

- å­¦ä¹  CI/CD è‡ªåŠ¨åŒ–éƒ¨ç½²
- äº†è§£åˆçº¦å‡çº§æ¨¡å¼ï¼ˆä»£ç†åˆçº¦ï¼‰
- æ¢ç´¢å¤šé“¾éƒ¨ç½²ç­–ç•¥
- æŒæ¡åˆçº¦éªŒè¯çš„è¯¦ç»†æµç¨‹

---

## 10. ã€ä¸€å¥è¯æ€»ç»“ã€‘

**ç½‘ç»œé…ç½®æ˜¯ Hardhat ç®¡ç†å¤šé“¾éƒ¨ç½²çš„æ ¸å¿ƒæœºåˆ¶ï¼Œé€šè¿‡ hardhat.config.js çš„ networks å¯¹è±¡å®šä¹‰å„ç½‘ç»œçš„è¿æ¥ä¿¡æ¯ï¼ˆRPC URLï¼‰å’Œèº«ä»½ä¿¡æ¯ï¼ˆaccountsï¼‰ï¼Œé…åˆ dotenv ç¯å¢ƒå˜é‡å®ç°å®‰å…¨çš„æ•æ„Ÿä¿¡æ¯ç®¡ç†ï¼Œæ˜¯å®ç°ä¸€ä»½ä»£ç ã€å¤šç¯å¢ƒéƒ¨ç½²çš„åŸºç¡€è®¾æ–½ã€‚**

---

## ğŸ“š é™„å½•

### å­¦ä¹ æ£€æŸ¥æ¸…å•

- [ ] ç†è§£ networks é…ç½®çš„ç»“æ„å’Œå­—æ®µ
- [ ] èƒ½é…ç½®æœ¬åœ°ã€æµ‹è¯•ç½‘ã€ä¸»ç½‘ä¸‰ç§ç¯å¢ƒ
- [ ] çŸ¥é“å¦‚ä½•ä½¿ç”¨ dotenv ç®¡ç†ç¯å¢ƒå˜é‡
- [ ] èƒ½ä½¿ç”¨ --network å‚æ•°åˆ‡æ¢ç½‘ç»œ
- [ ] ç†è§£è´¦æˆ·éš”ç¦»çš„é‡è¦æ€§
- [ ] èƒ½é…ç½® Fork ä¸»ç½‘è¿›è¡Œæµ‹è¯•
- [ ] çŸ¥é“å¸¸ç”¨ç½‘ç»œçš„ Chain ID

### å¸¸ç”¨ç½‘ç»œ Chain ID é€ŸæŸ¥

| ç½‘ç»œ | Chain ID | ç±»å‹ |
|-----|----------|------|
| Ethereum Mainnet | 1 | ä¸»ç½‘ |
| Sepolia | 11155111 | æµ‹è¯•ç½‘ |
| Holesky | 17000 | æµ‹è¯•ç½‘ |
| Arbitrum One | 42161 | L2 ä¸»ç½‘ |
| Optimism | 10 | L2 ä¸»ç½‘ |
| Base | 8453 | L2 ä¸»ç½‘ |
| Polygon | 137 | ä¸»ç½‘ |
| Hardhat | 31337 | æœ¬åœ° |

### ä¸‹ä¸€æ­¥å­¦ä¹ 

1. **åˆçº¦éªŒè¯** - Etherscan æºç éªŒè¯
2. **CI/CD éƒ¨ç½²** - GitHub Actions è‡ªåŠ¨åŒ–
3. **å¤šé“¾ç­–ç•¥** - åŒæ—¶éƒ¨ç½²å¤šä¸ª L2
4. **åˆçº¦å‡çº§** - ä»£ç†æ¨¡å¼å’Œå‡çº§æµç¨‹

---

**ç‰ˆæœ¬ï¼š** v1.0
**åˆ›å»ºæ—¥æœŸï¼š** 2025-12-08
**é€‚ç”¨äººç¾¤ï¼š** å‰ç«¯å·¥ç¨‹å¸ˆè½¬ Web3 å¼€å‘
