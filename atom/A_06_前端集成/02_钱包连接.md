# é’±åŒ…è¿æ¥

## 1. ã€30å­—æ ¸å¿ƒã€‘

**é’±åŒ…è¿æ¥æ˜¯DAppä¸ç”¨æˆ·åŒºå—é“¾è´¦æˆ·å»ºç«‹é€šä¿¡çš„è¿‡ç¨‹ï¼Œé€šè¿‡Connectorè¿æ¥å™¨å®ç°å¤šé’±åŒ…æ”¯æŒï¼Œè·å–ç”¨æˆ·åœ°å€å’Œç­¾åèƒ½åŠ›ï¼Œæ˜¯æ‰€æœ‰Web3äº¤äº’çš„ç¬¬ä¸€æ­¥ã€‚**

---

## 2. ã€ç¬¬ä¸€æ€§åŸç†ã€‘

### ä»€ä¹ˆæ˜¯ç¬¬ä¸€æ€§åŸç†ï¼Ÿ

**ç¬¬ä¸€æ€§åŸç†**ï¼šå›åˆ°äº‹ç‰©æœ€åŸºæœ¬çš„çœŸç†ï¼Œä»æºå¤´æ€è€ƒé—®é¢˜

### é’±åŒ…è¿æ¥çš„ç¬¬ä¸€æ€§åŸç† ğŸ¯

#### 1. æœ€åŸºç¡€çš„å®šä¹‰

**é’±åŒ…è¿æ¥ = è®© DApp è·å¾—ç”¨æˆ·çš„åŒºå—é“¾èº«ä»½ï¼ˆåœ°å€ï¼‰å’Œç­¾åèƒ½åŠ›**

æ ¸å¿ƒæœ¬è´¨ï¼š
- **èº«ä»½è·å–**ï¼šè·å–ç”¨æˆ·çš„é’±åŒ…åœ°å€ï¼ˆ0x...ï¼‰
- **ç­¾åèƒ½åŠ›**ï¼šè®©ç”¨æˆ·èƒ½å¤Ÿç­¾åäº¤æ˜“å’Œæ¶ˆæ¯
- **æˆæƒè¿‡ç¨‹**ï¼šç”¨æˆ·æ˜ç¡®åŒæ„ DApp è®¿é—®å…¶è´¦æˆ·

ä»…æ­¤è€Œå·²ï¼æ²¡æœ‰æ›´åŸºç¡€çš„äº†ã€‚

#### 2. ä¸ºä»€ä¹ˆéœ€è¦é’±åŒ…è¿æ¥ï¼Ÿ

**æ ¸å¿ƒé—®é¢˜ï¼šDApp å¦‚ä½•çŸ¥é“"ä½ æ˜¯è°"ä»¥åŠ"å¦‚ä½•ä»£è¡¨ä½ æ“ä½œ"ï¼Ÿ**

ä¼ ç»Ÿ Web çš„èº«ä»½è®¤è¯ï¼š
```
ç”¨æˆ· â†’ è¾“å…¥ç”¨æˆ·åå¯†ç  â†’ æœåŠ¡å™¨éªŒè¯ â†’ ç™»å½•æˆåŠŸ
```

åŒºå—é“¾çš„èº«ä»½è®¤è¯ï¼š
```
ç”¨æˆ· â†’ é’±åŒ…ç­¾å â†’ é“¾ä¸ŠéªŒè¯ â†’ èº«ä»½ç¡®è®¤
```

**å…³é”®åŒºåˆ«**ï¼š
- ä¼ ç»Ÿ Webï¼šèº«ä»½ç”±æœåŠ¡å™¨æ§åˆ¶ï¼Œå¯†ç å­˜åœ¨æœåŠ¡å™¨
- Web3ï¼šèº«ä»½ç”±ç”¨æˆ·æ§åˆ¶ï¼Œç§é’¥å­˜åœ¨é’±åŒ…ä¸­ï¼ŒDApp åªèƒ½"è¯·æ±‚"è€Œé"æ§åˆ¶"

#### 3. é’±åŒ…è¿æ¥çš„ä¸‰å±‚ä»·å€¼

##### ä»·å€¼1ï¼šèº«ä»½è¯†åˆ« - çŸ¥é“ç”¨æˆ·æ˜¯è°

```typescript
// è¿æ¥åè·å–åœ°å€
const { address } = useAccount();
// address = "0x1234...abcd"

// åœ°å€å°±æ˜¯ç”¨æˆ·åœ¨åŒºå—é“¾ä¸Šçš„å”¯ä¸€èº«ä»½
// å¯ä»¥ç”¨æ¥ï¼š
// - æŸ¥è¯¢ä½™é¢
// - æŸ¥è¯¢å†å²äº¤æ˜“
// - æŸ¥è¯¢ NFT æŒæœ‰
```

##### ä»·å€¼2ï¼šæ“ä½œæˆæƒ - ä»£è¡¨ç”¨æˆ·ç­¾å

```typescript
// é’±åŒ…è¿æ¥åï¼Œå¯ä»¥è¯·æ±‚ç”¨æˆ·ç­¾å
const { signMessage } = useSignMessage();

// ç­¾åæ¶ˆæ¯ï¼ˆéªŒè¯èº«ä»½ï¼‰
await signMessage({ message: 'Login to MyDApp' });

// ç­¾åäº¤æ˜“ï¼ˆè½¬è´¦ã€è°ƒç”¨åˆçº¦ï¼‰
await writeContract({ ... }); // ä¼šå¼¹å‡ºé’±åŒ…ç¡®è®¤
```

##### ä»·å€¼3ï¼šçŠ¶æ€åŒæ­¥ - ç›‘å¬è´¦æˆ·å˜åŒ–

```typescript
// è‡ªåŠ¨ç›‘å¬è´¦æˆ·åˆ‡æ¢
const { address } = useAccount();

// ç”¨æˆ·åœ¨é’±åŒ…ä¸­åˆ‡æ¢è´¦æˆ·æ—¶ï¼Œaddress è‡ªåŠ¨æ›´æ–°
// ç»„ä»¶ä¼šè‡ªåŠ¨é‡æ–°æ¸²æŸ“
```

#### 4. ä»ç¬¬ä¸€æ€§åŸç†æ¨å¯¼é’±åŒ…è¿æ¥è®¾è®¡

**æ¨ç†é“¾ï¼š**

```
1. å‰æï¼šDApp éœ€è¦çŸ¥é“ç”¨æˆ·èº«ä»½
   â†“
2. æ¨å¯¼ï¼šåŒºå—é“¾èº«ä»½ = é’±åŒ…åœ°å€
   â†“
3. æ¨å¯¼ï¼šåœ°å€ç”±ç§é’¥æ´¾ç”Ÿï¼Œç§é’¥åœ¨é’±åŒ…ä¸­
   â†“
4. æ¨å¯¼ï¼šDApp ä¸èƒ½ç›´æ¥è®¿é—®ç§é’¥ï¼ˆå®‰å…¨ï¼‰
   â†“
5. æ¨å¯¼ï¼šéœ€è¦é’±åŒ…æä¾›"æ¥å£"ä¾› DApp è°ƒç”¨
   â†“
6. æ¨å¯¼ï¼šæ¥å£æ ‡å‡† = EIP-1193ï¼ˆProvider APIï¼‰
   â†“
7. æ¨å¯¼ï¼šä¸åŒé’±åŒ…å®ç°ç›¸åŒæ¥å£
   â†“
8. æ¨å¯¼ï¼šwagmi å°è£…ç»Ÿä¸€çš„ Connector æŠ½è±¡
   â†“
9. æœ€ç»ˆï¼šDApp â†’ Connector â†’ é’±åŒ… â†’ ç”¨æˆ·ç¡®è®¤ â†’ è¿æ¥æˆåŠŸ
```

#### 5. ä¸€å¥è¯æ€»ç»“ç¬¬ä¸€æ€§åŸç†

**é’±åŒ…è¿æ¥æ˜¯ DApp é€šè¿‡æ ‡å‡†åŒ–æ¥å£ï¼ˆEIP-1193ï¼‰è¯·æ±‚ç”¨æˆ·æˆæƒè®¿é—®å…¶åŒºå—é“¾èº«ä»½å’Œç­¾åèƒ½åŠ›çš„è¿‡ç¨‹ï¼Œç”¨æˆ·å§‹ç»ˆä¿æŒå¯¹ç§é’¥çš„æ§åˆ¶æƒã€‚**

---

## 3. ã€3ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‘

### æ ¸å¿ƒæ¦‚å¿µ1ï¼šConnector è¿æ¥å™¨ ğŸ”Œ

**ä¸€å¥è¯å®šä¹‰ï¼š** Connector æ˜¯è¿æ¥ DApp ä¸é’±åŒ…çš„é€‚é…å™¨ï¼Œæ¯ç§é’±åŒ…å¯¹åº”ä¸€ç§ Connectorã€‚

```typescript
import { createConfig } from 'wagmi';
import { injected, walletConnect, coinbaseWallet } from 'wagmi/connectors';

const config = createConfig({
  connectors: [
    // 1. Injectedï¼šæµè§ˆå™¨æ³¨å…¥çš„é’±åŒ…ï¼ˆMetaMaskã€Rabbyç­‰ï¼‰
    injected(),

    // 2. WalletConnectï¼šæ‰«ç è¿æ¥ç§»åŠ¨ç«¯é’±åŒ…
    walletConnect({
      projectId: 'YOUR_PROJECT_ID',  // ä» cloud.walletconnect.com è·å–
    }),

    // 3. Coinbase Wallet
    coinbaseWallet({
      appName: 'My DApp',
    }),
  ],
  // ... å…¶ä»–é…ç½®
});
```

**å¸¸ç”¨ Connector ç±»å‹ï¼š**

| Connector | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|-----------|------|---------|
| `injected()` | æµè§ˆå™¨æ‰©å±•é’±åŒ… | MetaMaskã€Rabby ç­‰ |
| `walletConnect()` | æ‰«ç è¿æ¥ | ç§»åŠ¨ç«¯é’±åŒ…ã€å¤šé“¾é’±åŒ… |
| `coinbaseWallet()` | Coinbase é’±åŒ… | Coinbase ç”¨æˆ· |
| `safe()` | Gnosis Safe | å¤šç­¾é’±åŒ… |
| `ledger()` | Ledger ç¡¬ä»¶é’±åŒ… | é«˜å®‰å…¨éœ€æ±‚ |

**Connector å·¥ä½œæµç¨‹ï¼š**

```
DApp è°ƒç”¨ connect()
        â†“
Connector é€‚é…å™¨
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                               â”‚
    â–¼           â–¼           â–¼       â”‚
MetaMask   WalletConnect   Coinbase â”‚
    â”‚           â”‚           â”‚       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
         ç”¨æˆ·ç¡®è®¤æˆæƒ
                â†“
         è¿”å›åœ°å€ç»™ DApp
```

---

### æ ¸å¿ƒæ¦‚å¿µ2ï¼šè¿æ¥çŠ¶æ€ ğŸ”„

**ä¸€å¥è¯å®šä¹‰ï¼š** è¿æ¥çŠ¶æ€æè¿°äº†é’±åŒ…ä¸ DApp çš„å½“å‰å…³ç³»ï¼ŒåŒ…æ‹¬æœªè¿æ¥ã€è¿æ¥ä¸­ã€å·²è¿æ¥ã€æ–­å¼€ä¸­ç­‰ã€‚

```typescript
import { useAccount, useConnect, useDisconnect } from 'wagmi';

function WalletStatus() {
  const {
    address,        // å½“å‰è¿æ¥çš„åœ°å€
    isConnected,    // æ˜¯å¦å·²è¿æ¥
    isConnecting,   // æ˜¯å¦æ­£åœ¨è¿æ¥
    isDisconnected, // æ˜¯å¦å·²æ–­å¼€
    isReconnecting, // æ˜¯å¦æ­£åœ¨é‡æ–°è¿æ¥
    status,         // çŠ¶æ€å­—ç¬¦ä¸²ï¼š'connected' | 'connecting' | 'disconnected' | 'reconnecting'
    connector,      // å½“å‰ä½¿ç”¨çš„è¿æ¥å™¨
    chain,          // å½“å‰è¿æ¥çš„é“¾
  } = useAccount();

  // çŠ¶æ€å¯è§†åŒ–
  return (
    <div>
      <p>çŠ¶æ€: {status}</p>
      {isConnected && (
        <>
          <p>åœ°å€: {address}</p>
          <p>é“¾: {chain?.name}</p>
          <p>é’±åŒ…: {connector?.name}</p>
        </>
      )}
    </div>
  );
}
```

**çŠ¶æ€æµè½¬å›¾ï¼š**

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ disconnected â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
                           â”‚ connect()              â”‚
                           â–¼                         â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
                    â”‚  connecting  â”‚                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
                           â”‚                         â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
           â”‚ æˆåŠŸ          â”‚ å¤±è´¥          â”‚         â”‚
           â–¼               â–¼               â”‚         â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚         â”‚
    â”‚  connected   â”‚ â”‚ disconnected â”‚      â”‚         â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚         â”‚
           â”‚                                â”‚         â”‚
           â”‚ disconnect()                   â”‚         â”‚
           â–¼                                â”‚         â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚         â”‚
    â”‚ disconnectingâ”‚                        â”‚         â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚         â”‚
           â”‚                                â”‚         â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ ¸å¿ƒæ¦‚å¿µ3ï¼šEIP-1193 Provider æ¥å£ ğŸ“¡

**ä¸€å¥è¯å®šä¹‰ï¼š** EIP-1193 æ˜¯é’±åŒ…ä¸ DApp é€šä¿¡çš„æ ‡å‡†æ¥å£ï¼Œæ‰€æœ‰é’±åŒ…éƒ½å®ç°è¿™ä¸ªæ¥å£ï¼ŒDApp é€šè¿‡å®ƒå‘é€è¯·æ±‚ã€‚

```typescript
// EIP-1193 å®šä¹‰çš„ Provider æ¥å£
interface EIP1193Provider {
  // å‘é€è¯·æ±‚
  request(args: { method: string; params?: unknown[] }): Promise<unknown>;

  // ç›‘å¬äº‹ä»¶
  on(event: string, handler: (data: unknown) => void): void;
  removeListener(event: string, handler: (data: unknown) => void): void;
}

// æµè§ˆå™¨ä¸­çš„é’±åŒ…ä¼šæ³¨å…¥åˆ° window.ethereum
const provider = window.ethereum;

// å¸¸ç”¨çš„ RPC æ–¹æ³•
async function example() {
  // è¯·æ±‚è¿æ¥ï¼ˆè·å–è´¦æˆ·ï¼‰
  const accounts = await provider.request({
    method: 'eth_requestAccounts'
  });

  // è·å–å½“å‰é“¾ ID
  const chainId = await provider.request({
    method: 'eth_chainId'
  });

  // åˆ‡æ¢é“¾
  await provider.request({
    method: 'wallet_switchEthereumChain',
    params: [{ chainId: '0x1' }]  // åˆ‡æ¢åˆ°ä¸»ç½‘
  });

  // æ·»åŠ æ–°é“¾
  await provider.request({
    method: 'wallet_addEthereumChain',
    params: [{
      chainId: '0x89',
      chainName: 'Polygon',
      rpcUrls: ['https://polygon-rpc.com'],
      nativeCurrency: { name: 'MATIC', symbol: 'MATIC', decimals: 18 },
    }]
  });
}

// ç›‘å¬è´¦æˆ·å˜åŒ–
provider.on('accountsChanged', (accounts) => {
  console.log('è´¦æˆ·åˆ‡æ¢:', accounts[0]);
});

// ç›‘å¬é“¾å˜åŒ–
provider.on('chainChanged', (chainId) => {
  console.log('é“¾åˆ‡æ¢:', chainId);
  // é€šå¸¸éœ€è¦åˆ·æ–°é¡µé¢
  window.location.reload();
});
```

**ä¸ºä»€ä¹ˆéœ€è¦ EIP-1193ï¼Ÿ**

```
æ²¡æœ‰æ ‡å‡†æ—¶ï¼š
â”œâ”€â”€ MetaMask API: window.ethereum.enable()
â”œâ”€â”€ Coinbase API: window.coinbaseWallet.connect()
â””â”€â”€ Trust API: window.trustWallet.request()
â†’ DApp éœ€è¦ä¸ºæ¯ç§é’±åŒ…å†™ä¸åŒä»£ç 

æœ‰äº† EIP-1193ï¼š
â”œâ”€â”€ MetaMask: window.ethereum.request()
â”œâ”€â”€ Coinbase: window.ethereum.request()
â””â”€â”€ Trust: window.ethereum.request()
â†’ DApp ä¸€å¥—ä»£ç é€‚é…æ‰€æœ‰é’±åŒ…
```

---

## 4. ã€æœ€å°å¯ç”¨ã€‘

æŒæ¡ä»¥ä¸‹å†…å®¹ï¼Œå°±èƒ½å®ç°å®Œæ•´çš„é’±åŒ…è¿æ¥åŠŸèƒ½ï¼š

### 4.1 é…ç½®è¿æ¥å™¨

```typescript
// src/config.ts
import { createConfig, http } from 'wagmi';
import { mainnet, sepolia } from 'wagmi/chains';
import { injected, walletConnect } from 'wagmi/connectors';

export const config = createConfig({
  chains: [mainnet, sepolia],
  connectors: [
    injected(),
    walletConnect({
      projectId: 'YOUR_PROJECT_ID',
    }),
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
  },
});
```

### 4.2 åŸºç¡€è¿æ¥ç»„ä»¶

```typescript
// src/components/ConnectButton.tsx
import { useAccount, useConnect, useDisconnect } from 'wagmi';

export function ConnectButton() {
  const { address, isConnected } = useAccount();
  const { connect, connectors, isPending } = useConnect();
  const { disconnect } = useDisconnect();

  if (isConnected) {
    return (
      <div>
        <span>{address?.slice(0, 6)}...{address?.slice(-4)}</span>
        <button onClick={() => disconnect()}>æ–­å¼€</button>
      </div>
    );
  }

  return (
    <div>
      {connectors.map((connector) => (
        <button
          key={connector.uid}
          onClick={() => connect({ connector })}
          disabled={isPending}
        >
          {connector.name}
        </button>
      ))}
    </div>
  );
}
```

### 4.3 å¤„ç†è¿æ¥é”™è¯¯

```typescript
import { useConnect } from 'wagmi';

function ConnectWithError() {
  const { connect, connectors, error, isPending } = useConnect();

  return (
    <div>
      {connectors.map((connector) => (
        <button
          key={connector.uid}
          onClick={() => connect({ connector })}
          disabled={isPending}
        >
          {connector.name}
        </button>
      ))}

      {error && (
        <div className="error">
          {error.name === 'UserRejectedRequestError'
            ? 'ç”¨æˆ·å–æ¶ˆäº†è¿æ¥'
            : error.message}
        </div>
      )}
    </div>
  );
}
```

### 4.4 ç›‘å¬è´¦æˆ·å˜åŒ–

```typescript
import { useAccount } from 'wagmi';
import { useEffect } from 'react';

function AccountWatcher() {
  const { address, isConnected } = useAccount();

  // è´¦æˆ·å˜åŒ–æ—¶è‡ªåŠ¨è§¦å‘
  useEffect(() => {
    if (isConnected && address) {
      console.log('å½“å‰è´¦æˆ·:', address);
      // å¯ä»¥åœ¨è¿™é‡ŒåŠ è½½ç”¨æˆ·æ•°æ®
    }
  }, [address, isConnected]);

  return null;
}
```

---

**è¿™äº›çŸ¥è¯†è¶³ä»¥ï¼š**
- âœ… å®ç°å¤šé’±åŒ…è¿æ¥
- âœ… æ˜¾ç¤ºè¿æ¥çŠ¶æ€å’Œåœ°å€
- âœ… å¤„ç†è¿æ¥é”™è¯¯
- âœ… ç›‘å¬è´¦æˆ·å˜åŒ–

---

## 5. ã€1ä¸ªç±»æ¯”ã€‘

### ç±»æ¯”1ï¼šé’±åŒ…è¿æ¥ = é…’åº—å…¥ä½ç™»è®° ğŸ¨

#### ç”Ÿæ´»åœºæ™¯ç±»æ¯”ï¼šé…’åº—å…¥ä½æµç¨‹

æƒ³è±¡ä½ å»é…’åº—å…¥ä½ï¼š

**å…¥ä½æµç¨‹å¯¹åº”ï¼š**

| é…’åº—å…¥ä½ | é’±åŒ…è¿æ¥ | è¯´æ˜ |
|---------|---------|------|
| é…’åº—å‰å° | DApp ç½‘ç«™ | æœåŠ¡å…¥å£ |
| ä½ çš„èº«ä»½è¯ | é’±åŒ…ï¼ˆç§é’¥ï¼‰ | èº«ä»½è¯æ˜ |
| å‡ºç¤ºèº«ä»½è¯ | è¿æ¥é’±åŒ… | è¯·æ±‚æˆæƒ |
| ç™»è®°å…¥ä½ | è·å–åœ°å€ | ç¡®è®¤èº«ä»½ |
| æˆ¿å¡ | ä¼šè¯çŠ¶æ€ | æ“ä½œå‡­è¯ |
| é€€æˆ¿ | æ–­å¼€è¿æ¥ | ç»“æŸä¼šè¯ |

**è¯¦ç»†å¯¹æ¯”ï¼š**

```
é…’åº—å…¥ä½ï¼š
1. èµ°åˆ°å‰å° â†’ æ‰“å¼€ DApp ç½‘ç«™
2. "æˆ‘è¦å…¥ä½" â†’ ç‚¹å‡»"è¿æ¥é’±åŒ…"
3. å‡ºç¤ºèº«ä»½è¯ â†’ é’±åŒ…å¼¹å‡ºç¡®è®¤æ¡†
4. å‰å°æ ¸éªŒ â†’ é’±åŒ…éªŒè¯è¯·æ±‚
5. ä½ ç­¾å­—ç¡®è®¤ â†’ ç‚¹å‡»"ç¡®è®¤è¿æ¥"
6. æ‹¿åˆ°æˆ¿å¡ â†’ è·å¾— address
7. å¯ä»¥ç”¨æˆ¿å¡å¼€é—¨ â†’ å¯ä»¥ç­¾åäº¤æ˜“
8. é€€æˆ¿ â†’ æ–­å¼€è¿æ¥
```

**å®‰å…¨ç±»æ¯”ï¼š**

```
é…’åº—ï¼šèº«ä»½è¯å§‹ç»ˆåœ¨ä½ æ‰‹é‡Œï¼Œå‰å°åªæ˜¯"çœ‹"äº†ä¸€ä¸‹
é’±åŒ…ï¼šç§é’¥å§‹ç»ˆåœ¨é’±åŒ…é‡Œï¼ŒDApp åªæ˜¯è·å¾—äº†åœ°å€

é…’åº—ï¼šä½ ä¸ä¼šæŠŠèº«ä»½è¯ç•™åœ¨å‰å°
é’±åŒ…ï¼šDApp æ°¸è¿œæ— æ³•è·å–ä½ çš„ç§é’¥
```

**ä¸¾ä¾‹ï¼š**

```typescript
// è¿™å°±åƒé…’åº—å‰å°é—®ä½ è¦èº«ä»½è¯
const { connect } = useConnect();
connect({ connector: injected() });  // "è¯·å‡ºç¤ºæ‚¨çš„é’±åŒ…"

// å‰å°è®°å½•äº†ä½ çš„ä¿¡æ¯
const { address } = useAccount();  // è·å¾—"æˆ¿å®¢ä¿¡æ¯"

// ä½ å¯ä»¥ç”¨æˆ¿å¡ï¼ˆæˆæƒï¼‰åšäº‹
const { writeContract } = useWriteContract();
writeContract({ ... });  // å°±åƒç”¨æˆ¿å¡å¼€é—¨
```

---

#### å‰ç«¯é¢†åŸŸç±»æ¯”ï¼šOAuth ç™»å½•æµç¨‹

å¦‚æœä½ å®ç°è¿‡"ä½¿ç”¨ Google ç™»å½•"ï¼Œé’±åŒ…è¿æ¥çš„æµç¨‹éå¸¸ç›¸ä¼¼ï¼š

**OAuth vs é’±åŒ…è¿æ¥ï¼š**

```typescript
// ===== OAuth ç™»å½•ï¼ˆGoogleï¼‰ =====
// 1. ç”¨æˆ·ç‚¹å‡»"ä½¿ç”¨ Google ç™»å½•"
<button onClick={() => signInWithGoogle()}>ä½¿ç”¨ Google ç™»å½•</button>

// 2. è·³è½¬åˆ° Google ç™»å½•é¡µ
// 3. ç”¨æˆ·åœ¨ Google é¡µé¢ç¡®è®¤æˆæƒ
// 4. Google è¿”å› access token
// 5. ç”¨ token è·å–ç”¨æˆ·ä¿¡æ¯
const user = await getGoogleUser(token);
// user = { email: 'xxx@gmail.com', name: 'John' }

// ===== é’±åŒ…è¿æ¥ =====
// 1. ç”¨æˆ·ç‚¹å‡»"è¿æ¥é’±åŒ…"
<button onClick={() => connect({ connector })}>è¿æ¥é’±åŒ…</button>

// 2. é’±åŒ…å¼¹å‡ºç¡®è®¤æ¡†
// 3. ç”¨æˆ·åœ¨é’±åŒ…ä¸­ç¡®è®¤æˆæƒ
// 4. é’±åŒ…è¿”å›ç”¨æˆ·åœ°å€
// 5. ç›´æ¥ä½¿ç”¨åœ°å€
const { address } = useAccount();
// address = '0x1234...abcd'
```

**å¯¹æ¯”è¡¨ï¼š**

| æ¦‚å¿µ | OAuth (Google) | é’±åŒ…è¿æ¥ |
|-----|----------------|---------|
| èº«ä»½æä¾›è€… | Google | é’±åŒ…ï¼ˆMetaMaskç­‰ï¼‰ |
| ç”¨æˆ·æ ‡è¯† | email | address |
| æˆæƒå‡­è¯ | access token | ç­¾åèƒ½åŠ› |
| ç¡®è®¤ç•Œé¢ | Google ç™»å½•é¡µ | é’±åŒ…å¼¹çª— |
| è¿‡æœŸå¤„ç† | refresh token | è‡ªåŠ¨ä¿æŒè¿æ¥ |
| é€€å‡º | æ’¤é”€ token | disconnect |

**ä»£ç å¯¹æ¯”ï¼š**

```typescript
// ===== OAuth ç™»å½•æµç¨‹ =====
import { GoogleAuthProvider, signInWithPopup } from 'firebase/auth';

async function loginWithGoogle() {
  const provider = new GoogleAuthProvider();
  const result = await signInWithPopup(auth, provider);
  return result.user.email;
}

// ===== é’±åŒ…è¿æ¥æµç¨‹ =====
import { useConnect } from 'wagmi';

function connectWallet() {
  const { connect, connectors } = useConnect();
  connect({ connector: connectors[0] });
  // è¿æ¥æˆåŠŸå useAccount() è¿”å› address
}
```

**å…³é”®åŒºåˆ«ï¼š**

| ç‰¹æ€§ | OAuth | é’±åŒ…è¿æ¥ |
|-----|-------|---------|
| ä¸­å¿ƒåŒ– | âœ… Google æ§åˆ¶ | âŒ ç”¨æˆ·æ§åˆ¶ |
| æœåŠ¡å™¨éªŒè¯ | éœ€è¦åç«¯ | é“¾ä¸ŠéªŒè¯ |
| è·¨è®¾å¤‡ | ç™»å½•ä»»ä½•è®¾å¤‡ | éœ€è¦å¯¼å…¥é’±åŒ… |
| æ’¤é”€æƒé™ | Google åå° | é’±åŒ…ä¸­æ“ä½œ |

---

### ç±»æ¯”2ï¼šConnector = USB é€‚é…å™¨ ğŸ”Œ

#### ç”Ÿæ´»åœºæ™¯ç±»æ¯”ï¼šUSB è½¬æ¥å¤´

æƒ³è±¡ä½ æœ‰å„ç§è®¾å¤‡éœ€è¦è¿æ¥ç”µè„‘ï¼š

```
ä¸åŒè®¾å¤‡ï¼š
â”œâ”€â”€ iPhone (Lightning)
â”œâ”€â”€ Android (USB-C)
â”œâ”€â”€ æ—§è®¾å¤‡ (Micro USB)
â””â”€â”€ ç›¸æœº (Mini USB)

USB è½¬æ¥å¤´è®©å®ƒä»¬éƒ½èƒ½è¿ç”µè„‘
```

```
ä¸åŒé’±åŒ…ï¼š
â”œâ”€â”€ MetaMask (injected)
â”œâ”€â”€ ç§»åŠ¨é’±åŒ… (WalletConnect)
â”œâ”€â”€ Coinbase (coinbaseWallet)
â””â”€â”€ Ledger (ledger)

Connector è®©å®ƒä»¬éƒ½èƒ½è¿ DApp
```

**ä¸¾ä¾‹ï¼š**

```typescript
// å°±åƒå‡†å¤‡äº†å„ç§è½¬æ¥å¤´
const config = createConfig({
  connectors: [
    injected(),           // USB-A æ¥å£ï¼ˆæœ€å¸¸ç”¨ï¼‰
    walletConnect({ }),   // æ— çº¿è¿æ¥ï¼ˆè“ç‰™ï¼‰
    coinbaseWallet({ }),  // ä¸“ç”¨æ¥å£
  ],
});

// ç”¨æˆ·é€‰æ‹©ç”¨å“ªä¸ª"è½¬æ¥å¤´"
connectors.map(connector => (
  <button onClick={() => connect({ connector })}>
    {connector.name}
  </button>
));
```

---

### ç±»æ¯”æ€»ç»“è¡¨

| é’±åŒ…è¿æ¥æ¦‚å¿µ | ç”Ÿæ´»åœºæ™¯ç±»æ¯” | å‰ç«¯é¢†åŸŸç±»æ¯” |
|-------------|-------------|-------------|
| é’±åŒ… | ä½ çš„èº«ä»½è¯ | ç”¨æˆ·è´¦å· |
| è¿æ¥é’±åŒ… | å‡ºç¤ºèº«ä»½è¯ | OAuth ç™»å½• |
| Connector | USB è½¬æ¥å¤´ | Auth Provider |
| address | èº«ä»½è¯å· | user.id / email |
| ç­¾å | æ‰‹å†™ç­¾å­— | access token |
| æ–­å¼€è¿æ¥ | é€€æˆ¿ | logout |
| è´¦æˆ·åˆ‡æ¢ | æ¢èº«ä»½è¯ï¼ˆå®¶äººçš„ï¼‰ | åˆ‡æ¢è´¦å· |

---

## 6. ã€åç›´è§‰ç‚¹ã€‘

### è¯¯åŒº1ï¼šè¿æ¥é’±åŒ…å°±æ˜¯ç™»å½• âŒ

**ä¸ºä»€ä¹ˆé”™ï¼Ÿ**

è¿æ¥é’±åŒ…**ä¸ç­‰äº**ç™»å½•éªŒè¯ï¼š
- **è¿æ¥é’±åŒ…**ï¼šåªæ˜¯è·å–äº†ç”¨æˆ·çš„åœ°å€ï¼Œä»»ä½•äººéƒ½å¯ä»¥å£°ç§°è‡ªå·±æ˜¯æŸä¸ªåœ°å€
- **çœŸæ­£çš„ç™»å½•**ï¼šéœ€è¦ç”¨æˆ·ç­¾åä¸€æ¡æ¶ˆæ¯ï¼Œè¯æ˜ä»–ç¡®å®æ‹¥æœ‰è¿™ä¸ªåœ°å€çš„ç§é’¥

```typescript
// âŒ é”™è¯¯ï¼šåªæ£€æŸ¥åœ°å€
function isLoggedIn() {
  const { address, isConnected } = useAccount();
  return isConnected && address;  // ä¸å®‰å…¨ï¼
}

// âœ… æ­£ç¡®ï¼šéœ€è¦ç­¾åéªŒè¯
import { useSignMessage } from 'wagmi';
import { verifyMessage } from 'viem';

function LoginButton() {
  const { address } = useAccount();
  const { signMessageAsync } = useSignMessage();

  async function login() {
    // 1. ç”Ÿæˆéšæœºæ¶ˆæ¯ï¼ˆæˆ–ä»åç«¯è·å– nonceï¼‰
    const message = `Login to MyDApp\nNonce: ${Date.now()}`;

    // 2. è¯·æ±‚ç”¨æˆ·ç­¾å
    const signature = await signMessageAsync({ message });

    // 3. éªŒè¯ç­¾åï¼ˆé€šå¸¸åœ¨åç«¯åšï¼‰
    const isValid = await verifyMessage({
      address,
      message,
      signature,
    });

    if (isValid) {
      // çœŸæ­£çš„ç™»å½•æˆåŠŸ
    }
  }

  return <button onClick={login}>ç­¾åç™»å½•</button>;
}
```

**ä¸ºä»€ä¹ˆäººä»¬å®¹æ˜“è¿™æ ·é”™ï¼Ÿ**

ä¹ æƒ¯äº† Web2 çš„ç™»å½•æ¨¡å¼ï¼Œè®¤ä¸º"è¿æ¥ä¸Š"å°±æ˜¯"ç™»å½•äº†"ã€‚å®é™…ä¸Šè¿æ¥åªæ˜¯å»ºç«‹äº†é€šä¿¡é€šé“ï¼Œè¿˜æ²¡æœ‰éªŒè¯èº«ä»½ã€‚

**æ­£ç¡®ç†è§£ï¼š**

| æ­¥éª¤ | ä½œç”¨ | å®‰å…¨æ€§ |
|-----|------|--------|
| è¿æ¥é’±åŒ… | è·å–åœ°å€ | ä½ï¼ˆä»»ä½•äººå¯å£°ç§°ï¼‰ |
| ç­¾åæ¶ˆæ¯ | è¯æ˜æ‰€æœ‰æƒ | é«˜ï¼ˆç§é’¥è¯æ˜ï¼‰ |
| åç«¯éªŒè¯ | åˆ›å»ºä¼šè¯ | å®‰å…¨ç™»å½• |

---

### è¯¯åŒº2ï¼šæ–­å¼€è¿æ¥åé’±åŒ…å°±æ²¡æœ‰æƒé™äº† âŒ

**ä¸ºä»€ä¹ˆé”™ï¼Ÿ**

"æ–­å¼€è¿æ¥"åªæ˜¯**å‰ç«¯çŠ¶æ€**çš„æ”¹å˜ï¼Œä¸å½±å“ï¼š
1. å·²ç»æˆæƒç»™åˆçº¦çš„ approveï¼ˆERC20 æˆæƒï¼‰
2. å·²ç»ç»™å‡ºçš„ç­¾å
3. å·²ç»å‘é€çš„äº¤æ˜“

```typescript
// æ–­å¼€è¿æ¥
const { disconnect } = useDisconnect();
disconnect();  // åªæ˜¯æ¸…é™¤äº†å‰ç«¯çŠ¶æ€

// ä½†æ˜¯ï¼å¦‚æœä¹‹å‰ approve äº†æŸä¸ªåˆçº¦
// é‚£ä¸ª approve ä¾ç„¶æœ‰æ•ˆï¼

// çœŸæ­£æ’¤é”€æˆæƒéœ€è¦ï¼š
await writeContract({
  address: tokenAddress,
  abi: erc20Abi,
  functionName: 'approve',
  args: [spenderAddress, 0n],  // æˆæƒé¢åº¦è®¾ä¸º 0
});
```

**ä¸ºä»€ä¹ˆäººä»¬å®¹æ˜“è¿™æ ·é”™ï¼Ÿ**

ç±»æ¯” Web2 çš„"é€€å‡ºç™»å½•"ï¼Œä»¥ä¸ºæ–­å¼€å°±æ’¤é”€äº†æ‰€æœ‰æƒé™ã€‚ä½†é“¾ä¸Šçš„æˆæƒæ˜¯ç‹¬ç«‹çš„ï¼Œä¸å‰ç«¯è¿æ¥çŠ¶æ€æ— å…³ã€‚

**æ­£ç¡®ç†è§£ï¼š**

| æ“ä½œ | å½±å“èŒƒå›´ | æ˜¯å¦éœ€è¦äº¤æ˜“ |
|-----|---------|-------------|
| disconnect | å‰ç«¯çŠ¶æ€ | âŒ |
| æ’¤é”€ approve | é“¾ä¸ŠçŠ¶æ€ | âœ… éœ€è¦ Gas |
| æ›´æ¢é’±åŒ… | å‰ç«¯çŠ¶æ€ | âŒ |

---

### è¯¯åŒº3ï¼šä¸€ä¸ªé¡µé¢åªèƒ½è¿æ¥ä¸€ä¸ªé’±åŒ… âŒ

**ä¸ºä»€ä¹ˆé”™ï¼Ÿ**

æŠ€æœ¯ä¸Šä¸€ä¸ª DApp å¯ä»¥åŒæ—¶è¿æ¥å¤šä¸ªé’±åŒ…ï¼Œåªæ˜¯ wagmi é»˜è®¤ç®¡ç†"å½“å‰æ´»è·ƒ"çš„ä¸€ä¸ªã€‚

```typescript
import { useConnect, useAccount, useConnections } from 'wagmi';

function MultiWallet() {
  // è·å–æ‰€æœ‰è¿æ¥
  const connections = useConnections();

  // å½“å‰æ´»è·ƒçš„è´¦æˆ·
  const { address } = useAccount();

  // å¯ä»¥æœ‰å¤šä¸ªè¿æ¥
  console.log('æ‰€æœ‰è¿æ¥:', connections);
  // [
  //   { connector: 'MetaMask', accounts: ['0x...'] },
  //   { connector: 'WalletConnect', accounts: ['0x...'] }
  // ]

  // ä½† useAccount è¿”å›çš„æ˜¯"å½“å‰æ´»è·ƒ"çš„é‚£ä¸ª
  console.log('å½“å‰æ´»è·ƒ:', address);
}
```

**ä½¿ç”¨åœºæ™¯ï¼š**
- é«˜çº§ç”¨æˆ·æœ‰å¤šä¸ªé’±åŒ…
- éœ€è¦åœ¨ä¸åŒé’±åŒ…é—´åˆ‡æ¢
- å¤šç­¾é’±åŒ…åœºæ™¯

**ä¸ºä»€ä¹ˆäººä»¬å®¹æ˜“è¿™æ ·é”™ï¼Ÿ**

å¤§å¤šæ•°æ•™ç¨‹åªå±•ç¤ºå•é’±åŒ…åœºæ™¯ï¼Œwagmi çš„é»˜è®¤ API ä¹Ÿæ˜¯é’ˆå¯¹å•é’±åŒ…è®¾è®¡çš„ã€‚

**æ­£ç¡®ç†è§£ï¼š**

```typescript
// wagmi v2 æ”¯æŒå¤šè¿æ¥
import { useConnections, useSwitchAccount } from 'wagmi';

function AccountSwitcher() {
  const connections = useConnections();
  const { switchAccount } = useSwitchAccount();

  return (
    <div>
      {connections.map((connection) => (
        <button
          key={connection.connector.uid}
          onClick={() => switchAccount({ connector: connection.connector })}
        >
          åˆ‡æ¢åˆ° {connection.connector.name}
        </button>
      ))}
    </div>
  );
}
```

---

## 7. ã€å®æˆ˜ä»£ç ã€‘

### åŸºç¡€å®ç°ï¼šå®Œæ•´çš„é’±åŒ…è¿æ¥ç»„ä»¶

```typescript
// ===== 1. é…ç½®æ–‡ä»¶ src/config.ts =====

import { createConfig, http } from 'wagmi';
import { mainnet, sepolia, polygon } from 'wagmi/chains';
import { injected, walletConnect, coinbaseWallet } from 'wagmi/connectors';

const projectId = 'YOUR_WALLETCONNECT_PROJECT_ID';

export const config = createConfig({
  chains: [mainnet, sepolia, polygon],
  connectors: [
    injected({
      shimDisconnect: true,  // æ”¯æŒæ–­å¼€è¿æ¥
    }),
    walletConnect({
      projectId,
      showQrModal: true,  // æ˜¾ç¤ºäºŒç»´ç å¼¹çª—
      metadata: {
        name: 'My DApp',
        description: 'My awesome DApp',
        url: 'https://mydapp.com',
        icons: ['https://mydapp.com/icon.png'],
      },
    }),
    coinbaseWallet({
      appName: 'My DApp',
    }),
  ],
  transports: {
    [mainnet.id]: http(),
    [sepolia.id]: http(),
    [polygon.id]: http(),
  },
});
```

```typescript
// ===== 2. é’±åŒ…è¿æ¥ç»„ä»¶ src/components/WalletConnect.tsx =====

import { useAccount, useConnect, useDisconnect, useEnsName, useEnsAvatar } from 'wagmi';
import { useState } from 'react';

// é’±åŒ…å›¾æ ‡æ˜ å°„
const walletIcons: Record<string, string> = {
  'MetaMask': 'ğŸ¦Š',
  'WalletConnect': 'ğŸ”—',
  'Coinbase Wallet': 'ğŸ”µ',
};

export function WalletConnect() {
  const [isModalOpen, setIsModalOpen] = useState(false);

  const { address, isConnected, connector: activeConnector, chain } = useAccount();
  const { connect, connectors, isPending, error } = useConnect();
  const { disconnect, isPending: isDisconnecting } = useDisconnect();

  // ENS åç§°å’Œå¤´åƒ
  const { data: ensName } = useEnsName({ address });
  const { data: ensAvatar } = useEnsAvatar({ name: ensName ?? undefined });

  // æ ¼å¼åŒ–åœ°å€
  const formatAddress = (addr: string) => {
    return `${addr.slice(0, 6)}...${addr.slice(-4)}`;
  };

  // å·²è¿æ¥çŠ¶æ€
  if (isConnected && address) {
    return (
      <div className="wallet-connected">
        {/* å¤´åƒ */}
        <div className="avatar">
          {ensAvatar ? (
            <img src={ensAvatar} alt="avatar" />
          ) : (
            <div className="avatar-placeholder">
              {address.slice(2, 4).toUpperCase()}
            </div>
          )}
        </div>

        {/* ä¿¡æ¯ */}
        <div className="info">
          <div className="address">
            {ensName ?? formatAddress(address)}
          </div>
          <div className="chain-info">
            {chain?.name} Â· {activeConnector?.name}
          </div>
        </div>

        {/* æ–­å¼€æŒ‰é’® */}
        <button
          onClick={() => disconnect()}
          disabled={isDisconnecting}
          className="disconnect-btn"
        >
          {isDisconnecting ? 'æ–­å¼€ä¸­...' : 'æ–­å¼€'}
        </button>
      </div>
    );
  }

  // æœªè¿æ¥çŠ¶æ€
  return (
    <>
      <button
        onClick={() => setIsModalOpen(true)}
        className="connect-btn"
      >
        è¿æ¥é’±åŒ…
      </button>

      {/* é’±åŒ…é€‰æ‹©å¼¹çª— */}
      {isModalOpen && (
        <div className="modal-overlay" onClick={() => setIsModalOpen(false)}>
          <div className="modal" onClick={(e) => e.stopPropagation()}>
            <div className="modal-header">
              <h2>é€‰æ‹©é’±åŒ…</h2>
              <button onClick={() => setIsModalOpen(false)}>âœ•</button>
            </div>

            <div className="wallet-list">
              {connectors.map((connector) => {
                const isAvailable = connector.ready !== false;

                return (
                  <button
                    key={connector.uid}
                    onClick={() => {
                      connect({ connector });
                      setIsModalOpen(false);
                    }}
                    disabled={isPending || !isAvailable}
                    className="wallet-option"
                  >
                    <span className="wallet-icon">
                      {walletIcons[connector.name] ?? 'ğŸ’³'}
                    </span>
                    <span className="wallet-name">{connector.name}</span>
                    {!isAvailable && (
                      <span className="not-available">æœªå®‰è£…</span>
                    )}
                    {isPending && <span className="loading">è¿æ¥ä¸­...</span>}
                  </button>
                );
              })}
            </div>

            {/* é”™è¯¯æç¤º */}
            {error && (
              <div className="error-message">
                {error.name === 'UserRejectedRequestError'
                  ? 'ç”¨æˆ·å–æ¶ˆäº†è¿æ¥è¯·æ±‚'
                  : error.name === 'ConnectorAlreadyConnectedError'
                  ? 'é’±åŒ…å·²è¿æ¥'
                  : error.message}
              </div>
            )}
          </div>
        </div>
      )}
    </>
  );
}
```

```typescript
// ===== 3. é“¾åˆ‡æ¢ç»„ä»¶ src/components/ChainSwitcher.tsx =====

import { useAccount, useSwitchChain } from 'wagmi';
import { mainnet, sepolia, polygon } from 'wagmi/chains';

const supportedChains = [mainnet, sepolia, polygon];

export function ChainSwitcher() {
  const { chain: currentChain, isConnected } = useAccount();
  const { switchChain, isPending, error } = useSwitchChain();

  if (!isConnected) return null;

  return (
    <div className="chain-switcher">
      <span>å½“å‰é“¾: {currentChain?.name ?? 'æœªçŸ¥'}</span>

      <select
        value={currentChain?.id}
        onChange={(e) => {
          const chainId = Number(e.target.value);
          switchChain({ chainId });
        }}
        disabled={isPending}
      >
        {supportedChains.map((chain) => (
          <option key={chain.id} value={chain.id}>
            {chain.name}
          </option>
        ))}
      </select>

      {isPending && <span>åˆ‡æ¢ä¸­...</span>}
      {error && <span className="error">{error.message}</span>}
    </div>
  );
}
```

```typescript
// ===== 4. ç­¾åç™»å½•ç»„ä»¶ src/components/SignIn.tsx =====

import { useAccount, useSignMessage } from 'wagmi';
import { verifyMessage } from 'viem';
import { useState } from 'react';

export function SignIn() {
  const { address, isConnected } = useAccount();
  const { signMessageAsync, isPending } = useSignMessage();
  const [isVerified, setIsVerified] = useState(false);

  async function handleSignIn() {
    if (!address) return;

    try {
      // åˆ›å»ºç™»å½•æ¶ˆæ¯
      const message = `Welcome to MyDApp!\n\nPlease sign this message to verify your wallet.\n\nAddress: ${address}\nTimestamp: ${new Date().toISOString()}`;

      // è¯·æ±‚ç­¾å
      const signature = await signMessageAsync({ message });

      // éªŒè¯ç­¾åï¼ˆå®é™…é¡¹ç›®ä¸­åœ¨åç«¯éªŒè¯ï¼‰
      const isValid = await verifyMessage({
        address,
        message,
        signature,
      });

      if (isValid) {
        setIsVerified(true);
        console.log('ç™»å½•æˆåŠŸï¼');
        // è¿™é‡Œå¯ä»¥è°ƒç”¨åç«¯ API åˆ›å»ºä¼šè¯
      }
    } catch (error) {
      console.error('ç­¾åå¤±è´¥:', error);
    }
  }

  if (!isConnected) {
    return <div>è¯·å…ˆè¿æ¥é’±åŒ…</div>;
  }

  if (isVerified) {
    return <div className="verified">âœ… å·²éªŒè¯ç™»å½•</div>;
  }

  return (
    <button onClick={handleSignIn} disabled={isPending}>
      {isPending ? 'è¯·åœ¨é’±åŒ…ä¸­ç¡®è®¤...' : 'ç­¾åç™»å½•'}
    </button>
  );
}
```

```typescript
// ===== 5. å®Œæ•´åº”ç”¨ src/App.tsx =====

import { WalletConnect } from './components/WalletConnect';
import { ChainSwitcher } from './components/ChainSwitcher';
import { SignIn } from './components/SignIn';
import { useAccount } from 'wagmi';

function App() {
  const { isConnected } = useAccount();

  return (
    <div className="app">
      <header>
        <h1>My DApp</h1>
        <div className="header-right">
          {isConnected && <ChainSwitcher />}
          <WalletConnect />
        </div>
      </header>

      <main>
        {isConnected ? (
          <div className="dashboard">
            <SignIn />
            {/* å…¶ä»–åŠŸèƒ½ç»„ä»¶ */}
          </div>
        ) : (
          <div className="welcome">
            <h2>æ¬¢è¿æ¥åˆ° My DApp</h2>
            <p>è¯·è¿æ¥é’±åŒ…å¼€å§‹ä½¿ç”¨</p>
          </div>
        )}
      </main>
    </div>
  );
}

export default App;
```

**è¿è¡Œæ•ˆæœï¼š**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  My DApp                    Sepolia [è¿æ¥é’±åŒ…]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚           æ¬¢è¿æ¥åˆ° My DApp                       â”‚
â”‚           è¯·è¿æ¥é’±åŒ…å¼€å§‹ä½¿ç”¨                     â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç‚¹å‡»[è¿æ¥é’±åŒ…]åï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              é€‰æ‹©é’±åŒ…                    âœ•      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¦Š MetaMask                                    â”‚
â”‚  ğŸ”— WalletConnect                               â”‚
â”‚  ğŸ”µ Coinbase Wallet                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è¿æ¥æˆåŠŸåï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  My DApp     Sepolia â–¼  [0x12...ab] [æ–­å¼€]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚           [ç­¾åç™»å½•]                             â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8. ã€é¢è¯•å¿…é—®ã€‘

### é—®é¢˜1ï¼š"é’±åŒ…è¿æ¥çš„å®Œæ•´æµç¨‹æ˜¯ä»€ä¹ˆï¼ŸèƒŒåå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"

**æ™®é€šå›ç­”ï¼ˆâŒ ä¸å‡ºå½©ï¼‰ï¼š**

"ç”¨æˆ·ç‚¹å‡»è¿æ¥ï¼Œé’±åŒ…å¼¹çª—ç¡®è®¤ï¼Œç„¶åå°±è¿ä¸Šäº†ã€‚"

**å‡ºå½©å›ç­”ï¼ˆâœ… æ¨èï¼‰ï¼š**

> **é’±åŒ…è¿æ¥æ¶‰åŠä¸‰ä¸ªå±‚é¢çš„äº¤äº’ï¼š**
>
> **1. å‰ç«¯å±‚ï¼ˆwagmiï¼‰**
> ```typescript
> connect({ connector: injected() })
> ```
> - è°ƒç”¨ Connector çš„ connect æ–¹æ³•
> - è§¦å‘ connecting çŠ¶æ€
>
> **2. Provider å±‚ï¼ˆEIP-1193ï¼‰**
> ```javascript
> await window.ethereum.request({
>   method: 'eth_requestAccounts'
> })
> ```
> - é€šè¿‡æ ‡å‡†æ¥å£è¯·æ±‚è´¦æˆ·æˆæƒ
> - é’±åŒ…å¼¹å‡ºç¡®è®¤æ¡†
>
> **3. ç”¨æˆ·ç¡®è®¤å**
> ```javascript
> // è¿”å›è´¦æˆ·æ•°ç»„
> ['0x1234...abcd']
> ```
> - é’±åŒ…è¿”å›ç”¨æˆ·æˆæƒçš„åœ°å€
> - wagmi æ›´æ–°çŠ¶æ€ï¼Œè§¦å‘ç»„ä»¶é‡æ¸²æŸ“
>
> **å®Œæ•´æµç¨‹å›¾ï¼š**
> ```
> ç”¨æˆ·ç‚¹å‡» â†’ connect() â†’ Connector.connect()
>      â†’ EIP-1193 request â†’ é’±åŒ…å¼¹çª—
>      â†’ ç”¨æˆ·ç¡®è®¤ â†’ è¿”å› accounts
>      â†’ wagmi æ›´æ–°çŠ¶æ€ â†’ useAccount è¿”å›åœ°å€
> ```
>
> **å…³é”®å®‰å…¨ç‚¹ï¼š**
> - ç§é’¥å§‹ç»ˆåœ¨é’±åŒ…ä¸­ï¼ŒDApp åªè·å¾—åœ°å€
> - ç”¨æˆ·å¯ä»¥éšæ—¶åœ¨é’±åŒ…ä¸­æ–­å¼€æˆæƒ
> - è¿æ¥ä¸ç­‰äºç™»å½•ï¼Œæ•æ„Ÿæ“ä½œä»éœ€ç­¾åç¡®è®¤

**ä¸ºä»€ä¹ˆè¿™ä¸ªå›ç­”å‡ºå½©ï¼Ÿ**
1. âœ… åˆ†å±‚è§£é‡Šï¼ˆå‰ç«¯/Provider/ç”¨æˆ·ï¼‰
2. âœ… æœ‰ä»£ç è¯´æ˜
3. âœ… æœ‰æµç¨‹å›¾
4. âœ… æåˆ°äº†å®‰å…¨è€ƒè™‘

---

### é—®é¢˜2ï¼š"å¦‚ä½•å®ç°'è®°ä½ç™»å½•çŠ¶æ€'ï¼Ÿ"

**æ™®é€šå›ç­”ï¼ˆâŒ ä¸å‡ºå½©ï¼‰ï¼š**

"æŠŠåœ°å€å­˜åˆ° localStorageã€‚"

**å‡ºå½©å›ç­”ï¼ˆâœ… æ¨èï¼‰ï¼š**

> **è®°ä½ç™»å½•çŠ¶æ€éœ€è¦è€ƒè™‘ä¸¤ä¸ªå±‚é¢ï¼š**
>
> **1. é’±åŒ…è¿æ¥çŠ¶æ€ï¼ˆwagmi è‡ªåŠ¨å¤„ç†ï¼‰**
>
> wagmi é»˜è®¤ä¼šå°†è¿æ¥çŠ¶æ€å­˜å‚¨åˆ° localStorageï¼š
> ```typescript
> const config = createConfig({
>   storage: createStorage({ storage: localStorage }),  // é»˜è®¤
>   // ...
> });
> ```
> é¡µé¢åˆ·æ–°åä¼šè‡ªåŠ¨å°è¯•é‡æ–°è¿æ¥ä¸Šæ¬¡çš„é’±åŒ…ã€‚
>
> **2. åº”ç”¨ç™»å½•çŠ¶æ€ï¼ˆéœ€è¦ç­¾åéªŒè¯ï¼‰**
>
> å•çº¯ä¿å­˜åœ°å€æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºä»»ä½•äººéƒ½å¯ä»¥å£°ç§°æ˜¯æŸä¸ªåœ°å€ã€‚
>
> **å®‰å…¨çš„åšæ³•æ˜¯ SIWEï¼ˆSign-In with Ethereumï¼‰ï¼š**
>
> ```typescript
> // 1. åç«¯ç”Ÿæˆ nonce
> const nonce = await fetch('/api/auth/nonce').then(r => r.json());
>
> // 2. å‰ç«¯æ„é€ æ¶ˆæ¯
> const message = `Sign in to MyDApp
> Nonce: ${nonce}
> Issued At: ${new Date().toISOString()}`;
>
> // 3. ç”¨æˆ·ç­¾å
> const signature = await signMessage({ message });
>
> // 4. åç«¯éªŒè¯ç­¾åï¼Œåˆ›å»º JWT
> const { token } = await fetch('/api/auth/verify', {
>   method: 'POST',
>   body: JSON.stringify({ message, signature, address }),
> }).then(r => r.json());
>
> // 5. ä¿å­˜ tokenï¼Œç”¨äºåç»­è¯·æ±‚
> localStorage.setItem('auth_token', token);
> ```
>
> **æµç¨‹å¯¹æ¯”ï¼š**
>
> | æ–¹å¼ | å®‰å…¨æ€§ | ä½¿ç”¨åœºæ™¯ |
> |-----|--------|---------|
> | åªå­˜åœ°å€ | âŒ ä¸å®‰å…¨ | ä»…å±•ç¤ºç”¨ |
> | SIWE + JWT | âœ… å®‰å…¨ | éœ€è¦åç«¯éªŒè¯ |
> | Session Cookie | âœ… å®‰å…¨ | ä¼ ç»Ÿåç«¯ |

**ä¸ºä»€ä¹ˆè¿™ä¸ªå›ç­”å‡ºå½©ï¼Ÿ**
1. âœ… åŒºåˆ†äº†ä¸¤ä¸ªå±‚é¢ï¼ˆè¿æ¥ vs ç™»å½•ï¼‰
2. âœ… æŒ‡å‡ºäº†åªå­˜åœ°å€çš„å®‰å…¨é—®é¢˜
3. âœ… ç»™å‡ºäº†æ ‡å‡†è§£å†³æ–¹æ¡ˆï¼ˆSIWEï¼‰
4. âœ… æœ‰ä»£ç ç¤ºä¾‹

---

## 9. ã€åŒ–éª¨ç»µæŒã€‘

### å¡ç‰‡1ï¼šç›´è§‰ç†è§£ - ä»€ä¹ˆæ˜¯é’±åŒ…è¿æ¥ï¼Ÿ ğŸ¯

**ä¸€å¥è¯ï¼š** é’±åŒ…è¿æ¥æ˜¯è®© DApp çŸ¥é“"ä½ æ˜¯è°"å¹¶èƒ½"ä»£è¡¨ä½ æ“ä½œ"çš„è¿‡ç¨‹ã€‚

**ä¸¾ä¾‹ï¼š**
```typescript
// è¿æ¥å‰ï¼šä¸çŸ¥é“ç”¨æˆ·æ˜¯è°
// è¿æ¥åï¼š
const { address } = useAccount();
// address = "0x1234...abcd" è¿™å°±æ˜¯ç”¨æˆ·çš„åŒºå—é“¾èº«ä»½
```

**åº”ç”¨ï¼š** æ‰€æœ‰ Web3 äº¤äº’çš„ç¬¬ä¸€æ­¥ã€‚

---

### å¡ç‰‡2ï¼šå½¢å¼åŒ–å®šä¹‰ - Connector æ˜¯ä»€ä¹ˆï¼Ÿ ğŸ“

**ä¸€å¥è¯ï¼š** Connector æ˜¯è¿æ¥ä¸åŒé’±åŒ…çš„é€‚é…å™¨ï¼Œæ¯ç§é’±åŒ…å¯¹åº”ä¸€ç§ Connectorã€‚

```typescript
connectors: [
  injected(),           // MetaMask ç­‰
  walletConnect({ }),   // ç§»åŠ¨ç«¯é’±åŒ…
  coinbaseWallet({ }),  // Coinbase
]
```

**åº”ç”¨ï¼š** é…ç½®æ”¯æŒçš„é’±åŒ…ç±»å‹ã€‚

---

### å¡ç‰‡3ï¼šå…³é”®æ¦‚å¿µ1 - è¿æ¥çŠ¶æ€ ğŸ”„

**ä¸€å¥è¯ï¼š** è¿æ¥çŠ¶æ€åŒ…æ‹¬ connectedã€connectingã€disconnectedã€reconnecting å››ç§ã€‚

```typescript
const { isConnected, isConnecting, status } = useAccount();
```

**åº”ç”¨ï¼š** æ ¹æ®çŠ¶æ€æ˜¾ç¤ºä¸åŒ UIã€‚

---

### å¡ç‰‡4ï¼šå…³é”®æ¦‚å¿µ2 - EIP-1193 ğŸ“¡

**ä¸€å¥è¯ï¼š** EIP-1193 æ˜¯é’±åŒ…ä¸ DApp é€šä¿¡çš„æ ‡å‡†æ¥å£ï¼Œæ‰€æœ‰é’±åŒ…éƒ½å®ç°å®ƒã€‚

```javascript
// æ ‡å‡†è¯·æ±‚æ–¹å¼
await window.ethereum.request({
  method: 'eth_requestAccounts'
});
```

**åº”ç”¨ï¼š** ç†è§£åº•å±‚åŸç†ï¼Œè°ƒè¯•é—®é¢˜ã€‚

---

### å¡ç‰‡5ï¼šç¼–ç¨‹å®ç° - è¿æ¥/æ–­å¼€ ğŸª

**ä¸€å¥è¯ï¼š** ä½¿ç”¨ useConnect è¿æ¥é’±åŒ…ï¼ŒuseDisconnect æ–­å¼€è¿æ¥ã€‚

```typescript
const { connect, connectors } = useConnect();
const { disconnect } = useDisconnect();

// è¿æ¥
connect({ connector: connectors[0] });

// æ–­å¼€
disconnect();
```

**åº”ç”¨ï¼š** å®ç°è¿æ¥æŒ‰é’®åŠŸèƒ½ã€‚

---

### å¡ç‰‡6ï¼šå¯¹æ¯”åŒºåˆ† - è¿æ¥ vs ç™»å½• ğŸ†š

**ä¸€å¥è¯ï¼š** è¿æ¥åªæ˜¯è·å–åœ°å€ï¼Œç™»å½•éœ€è¦ç­¾åéªŒè¯èº«ä»½ã€‚

| æ“ä½œ | è·å¾— | å®‰å…¨æ€§ |
|-----|------|--------|
| è¿æ¥é’±åŒ… | åœ°å€ | ä½ |
| ç­¾åéªŒè¯ | èº«ä»½è¯æ˜ | é«˜ |

**åº”ç”¨ï¼š** æ•æ„Ÿæ“ä½œéœ€è¦ç­¾åç¡®è®¤ã€‚

---

### å¡ç‰‡7ï¼šè¿›é˜¶ç†è§£ - è´¦æˆ·åˆ‡æ¢ç›‘å¬ ğŸ‘€

**ä¸€å¥è¯ï¼š** wagmi è‡ªåŠ¨ç›‘å¬è´¦æˆ·åˆ‡æ¢ï¼ŒuseAccount è¿”å›çš„åœ°å€ä¼šè‡ªåŠ¨æ›´æ–°ã€‚

```typescript
const { address } = useAccount();

useEffect(() => {
  // è´¦æˆ·å˜åŒ–æ—¶è‡ªåŠ¨æ‰§è¡Œ
  console.log('å½“å‰è´¦æˆ·:', address);
}, [address]);
```

**åº”ç”¨ï¼š** è´¦æˆ·åˆ‡æ¢æ—¶é‡æ–°åŠ è½½ç”¨æˆ·æ•°æ®ã€‚

---

### å¡ç‰‡8ï¼šé«˜çº§åº”ç”¨ - é“¾åˆ‡æ¢ â›“ï¸

**ä¸€å¥è¯ï¼š** ä½¿ç”¨ useSwitchChain åˆ‡æ¢ç½‘ç»œï¼Œé…åˆ useAccount è·å–å½“å‰é“¾ã€‚

```typescript
const { chain } = useAccount();
const { switchChain } = useSwitchChain();

switchChain({ chainId: 1 });  // åˆ‡æ¢åˆ°ä¸»ç½‘
```

**åº”ç”¨ï¼š** å¤šé“¾ DApp çš„ç½‘ç»œåˆ‡æ¢ã€‚

---

### å¡ç‰‡9ï¼šå®é™…é¡¹ç›®ä¸­çš„åº”ç”¨ ğŸŒ

**ä¸€å¥è¯ï¼š** å®Œæ•´çš„é’±åŒ…è¿æ¥éœ€è¦å¤„ç†å¤šé’±åŒ…ã€é”™è¯¯æç¤ºã€é“¾åˆ‡æ¢ã€ENS è§£æç­‰ã€‚

**å…¸å‹ç»„ä»¶ç»“æ„ï¼š**
```
WalletConnect
â”œâ”€â”€ è¿æ¥æŒ‰é’®
â”œâ”€â”€ é’±åŒ…é€‰æ‹©å¼¹çª—
â”œâ”€â”€ å·²è¿æ¥çŠ¶æ€æ˜¾ç¤º
â”œâ”€â”€ ENS åç§°/å¤´åƒ
â””â”€â”€ é“¾åˆ‡æ¢å™¨
```

**åº”ç”¨ï¼š** å‚è€ƒæˆç†Ÿé¡¹ç›®å®ç°å®Œæ•´åŠŸèƒ½ã€‚

---

### å¡ç‰‡10ï¼šæ€»ç»“ä¸å»¶ä¼¸ ğŸ“

**ä¸€å¥è¯ï¼š** é’±åŒ…è¿æ¥æ˜¯ Web3 åº”ç”¨çš„å…¥å£ï¼ŒæŒæ¡å®ƒæ˜¯æ„å»º DApp çš„åŸºç¡€ã€‚

**æ ¸å¿ƒè¦ç‚¹ï¼š**
1. Connector é€‚é…ä¸åŒé’±åŒ…
2. EIP-1193 æ˜¯æ ‡å‡†æ¥å£
3. è¿æ¥ â‰  ç™»å½•
4. wagmi è‡ªåŠ¨ç®¡ç†çŠ¶æ€
5. è´¦æˆ·åˆ‡æ¢è‡ªåŠ¨ç›‘å¬

**ä¸‹ä¸€æ­¥å­¦ä¹ ï¼š**
- åˆçº¦è¯»å†™
- äº¤æ˜“çŠ¶æ€å¤„ç†
- SIWE ç­¾åç™»å½•
- å¤šé“¾æ”¯æŒ

---

## 10. ã€ä¸€å¥è¯æ€»ç»“ã€‘

**é’±åŒ…è¿æ¥æ˜¯ DApp é€šè¿‡ Connector è¿æ¥å™¨å’Œ EIP-1193 æ ‡å‡†æ¥å£è·å–ç”¨æˆ·åŒºå—é“¾åœ°å€å’Œç­¾åèƒ½åŠ›çš„è¿‡ç¨‹ï¼Œwagmi æä¾›äº† useAccountã€useConnectã€useDisconnect ç­‰ Hooks æ¥ç®¡ç†è¿æ¥çŠ¶æ€ï¼Œæ˜¯æ‰€æœ‰ Web3 äº¤äº’çš„ç¬¬ä¸€æ­¥å’Œå¿…è¦å‰æã€‚**

---

## ğŸ“š é™„å½•

### å­¦ä¹ æ£€æŸ¥æ¸…å•

å®Œæˆæœ¬çŸ¥è¯†ç‚¹å­¦ä¹ åï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

- [ ] é…ç½®å¤šç§ Connectorï¼ˆinjectedã€walletConnectï¼‰
- [ ] å®ç°é’±åŒ…è¿æ¥å’Œæ–­å¼€
- [ ] æ˜¾ç¤ºè¿æ¥çŠ¶æ€å’Œç”¨æˆ·åœ°å€
- [ ] å¤„ç†è¿æ¥é”™è¯¯
- [ ] ç›‘å¬è´¦æˆ·åˆ‡æ¢
- [ ] ç†è§£è¿æ¥ä¸ç™»å½•çš„åŒºåˆ«
- [ ] å®ç°é“¾åˆ‡æ¢åŠŸèƒ½

### å¿«é€Ÿå‚è€ƒå¡

**é…ç½® Connectorï¼š**
```typescript
connectors: [
  injected(),
  walletConnect({ projectId: 'xxx' }),
]
```

**è¿æ¥é’±åŒ…ï¼š**
```typescript
const { connect, connectors } = useConnect();
connect({ connector: connectors[0] });
```

**è·å–è´¦æˆ·ï¼š**
```typescript
const { address, isConnected, chain } = useAccount();
```

**æ–­å¼€è¿æ¥ï¼š**
```typescript
const { disconnect } = useDisconnect();
disconnect();
```

**åˆ‡æ¢é“¾ï¼š**
```typescript
const { switchChain } = useSwitchChain();
switchChain({ chainId: 1 });
```

### ä¸‹ä¸€æ­¥å­¦ä¹ 

æ¨èæŒ‰ä»¥ä¸‹é¡ºåºç»§ç»­å­¦ä¹ ï¼š

1. **åˆçº¦è¯»å†™** - ä¸æ™ºèƒ½åˆçº¦äº¤äº’
2. **äº¤æ˜“çŠ¶æ€å¤„ç†** - å¤„ç† pending/success/error
3. **SIWE ç™»å½•** - å®‰å…¨çš„ç­¾åç™»å½•
4. **å¤šé“¾æ”¯æŒ** - å¤„ç†å¤šé“¾ DApp

---

**ç‰ˆæœ¬ï¼š** v1.0
**åˆ›å»ºæ—¥æœŸï¼š** 2025-12-12
**ä½œè€…ï¼š** Web3å­¦ä¹ åŠ©æ‰‹
**é€‚ç”¨äººç¾¤ï¼š** å‰ç«¯å·¥ç¨‹å¸ˆè½¬Web3å¼€å‘
